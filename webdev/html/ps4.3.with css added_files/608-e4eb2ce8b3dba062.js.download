(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{3431:function(a){var b="function"==typeof Float32Array;function c(a,b){return 1-3*b+3*a}function d(a,b){return 3*b-6*a}function e(a,b,e){var f;return((c(b,e)*a+d(b,e))*a+3*(f=b))*a}function f(a,b,e){var f;return 3*c(b,e)*a*a+2*d(b,e)*a+3*(f=b)}function g(a){return a}a.exports=function(a,h,c,i){if(!(0<=a&&a<=1&&0<=c&&c<=1))throw Error("bezier x values must be in [0, 1] range");if(a===h&&c===i)return g;for(var j=b?new Float32Array(11):Array(11),d=0;d<11;++d)j[d]=e(.1*d,a,c);return function(b){return 0===b?0:1===b?1:e(function(d){for(var g=0,b=1,k=10;b!==k&&j[b]<=d;++b)g+=.1;var h=g+(d-j[--b])/(j[b+1]-j[b])*.1,i=f(h,a,c);return i>=.001?function(h,a,b,c){for(var d=0;d<4;++d){var g=f(a,b,c);if(0===g)break;var i=e(a,b,c)-h;a-=i/g}return a}(d,h,a,c):0===i?h:function(f,b,c,g,h){var d,a,i=0;do(d=e(a=b+(c-b)/2,g,h)-f)>0?c=a:b=a;while(Math.abs(d)>1e-7&& ++i<10)return a}(d,g,g+.1,a,c)}(b),h,i)}}},9664:function(a,b){!function(c,a){a(b)}(this,function(b){"use strict";/*!
	 * ScrollToPlugin 3.12.2
	 * https://greensock.com
	 *
	 * @license Copyright 2008-2023, GreenSock. All rights reserved.
	 * Subject to the terms at https://greensock.com/standard-license or for
	 * Club GreenSock members, the agreement issued with that membership.
	 * @author: Jack Doyle, jack@greensock.com
	*/ var c,h,i,j,k,l,m,n,o=function(){return"undefined"!=typeof window},d=function(){return c||o()&&(c=window.gsap)&&c.registerPlugin&&c},p=function(a){return"string"==typeof a},q=function(a){return"function"==typeof a},e=function(a,e){var b="x"===e?"Width":"Height",c="scroll"+b,d="client"+b;return a===i||a===j||a===k?Math.max(j[c],k[c])-(i["inner"+b]||j[d]||k[d]):a[c]-a["offset"+b]},f=function(a,b){var c="scroll"+("x"===b?"Left":"Top");return a===i&&(null!=a.pageXOffset?c="page"+b.toUpperCase()+"Offset":a=null!=j[c]?j:k),function(){return a[c]}},r=function(a,c,d,e){if(q(a)&&(a=a(c,d,e)),"object"!=typeof a)return p(a)&&"max"!==a&&"="!==a.charAt(1)?{x:a,y:a}:{y:a};if(a.nodeType)return{y:a,x:a};var b,f={};for(b in a)f[b]="onAutoKill"!==b&&q(a[b])?a[b](c,d,e):a[b];return f},g=function(b,a){if(!(b=l(b)[0])||!b.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var d=b.getBoundingClientRect(),e=!a||a===i||a===k,g=e?{top:j.clientTop-(i.pageYOffset||j.scrollTop||k.scrollTop||0),left:j.clientLeft-(i.pageXOffset||j.scrollLeft||k.scrollLeft||0)}:a.getBoundingClientRect(),c={x:d.left-g.left,y:d.top-g.top};return!e&&a&&(c.x+=f(a,"x")(),c.y+=f(a,"y")()),c},s=function(a,c,d,f,b){return isNaN(a)||"object"==typeof a?p(a)&&"="===a.charAt(1)?parseFloat(a.substr(2))*("-"===a.charAt(0)?-1:1)+f-b:"max"===a?e(c,d)-b:Math.min(e(c,d),g(a,c)[d]-b):parseFloat(a)-b},t=function(){c=d(),o()&&c&&"undefined"!=typeof document&&document.body&&(i=window,k=document.body,j=document.documentElement,l=c.utils.toArray,c.config({autoKillThreshold:7}),m=c.config(),h=1)},a={version:"3.12.2",name:"scrollTo",rawVars:1,register:function(a){c=a,t()},init:function(b,d,k,e,g){h||t();var a=this,j=c.getProperty(b,"scrollSnapType");a.isWin=b===i,a.target=b,a.tween=k,d=r(d,e,b,g),a.vars=d,a.autoKill=!!d.autoKill,a.getX=f(b,"x"),a.getY=f(b,"y"),a.x=a.xPrev=a.getX(),a.y=a.yPrev=a.getY(),n||(n=c.core.globals().ScrollTrigger),"smooth"===c.getProperty(b,"scrollBehavior")&&c.set(b,{scrollBehavior:"auto"}),j&&"none"!==j&&(a.snap=1,a.snapInline=b.style.scrollSnapType,b.style.scrollSnapType="none"),null!=d.x?(a.add(a,"x",a.x,s(d.x,b,"x",a.x,d.offsetX||0),e,g),a._props.push("scrollTo_x")):a.skipX=1,null!=d.y?(a.add(a,"y",a.y,s(d.y,b,"y",a.y,d.offsetY||0),e,g),a._props.push("scrollTo_y")):a.skipY=1},render:function(h,a){for(var c,d,j,k,f,g=a._pt,b=a.target,o=a.tween,s=a.autoKill,p=a.xPrev,q=a.yPrev,l=a.isWin,t=a.snap,r=a.snapInline;g;)g.r(h,g.d),g=g._next;c=l||!a.skipX?a.getX():p,d=l||!a.skipY?a.getY():q,j=d-q,k=c-p,f=m.autoKillThreshold,a.x<0&&(a.x=0),a.y<0&&(a.y=0),s&&(!a.skipX&&(k>f||k< -f)&&c<e(b,"x")&&(a.skipX=1),!a.skipY&&(j>f||j< -f)&&d<e(b,"y")&&(a.skipY=1),a.skipX&&a.skipY&&(o.kill(),a.vars.onAutoKill&&a.vars.onAutoKill.apply(o,a.vars.onAutoKillParams||[]))),l?i.scrollTo(a.skipX?c:a.x,a.skipY?d:a.y):(a.skipY||(b.scrollTop=a.y),a.skipX||(b.scrollLeft=a.x)),t&&(1===h||0===h)&&(d=b.scrollTop,c=b.scrollLeft,r?b.style.scrollSnapType=r:b.style.removeProperty("scroll-snap-type"),b.scrollTop=d+1,b.scrollLeft=c+1,b.scrollTop=d,b.scrollLeft=c),a.xPrev=a.x,a.yPrev=a.y,n&&n.update()},kill:function(a){var b="scrollTo"===a;(b||"scrollTo_x"===a)&&(this.skipX=1),(b||"scrollTo_y"===a)&&(this.skipY=1)}};a.max=e,a.getOffset=g,a.buildGetter=f,d()&&c.registerPlugin(a),b.ScrollToPlugin=a,b.default=a,Object.defineProperty(b,"__esModule",{value:!0})})},990:function(s,j,d){"use strict";d.d(j,{ZP:function(){return r}});var t,u,v,w,x,y,z,A,B,a=d(4011),C={},D=180/Math.PI,E=Math.PI/180,F=Math.atan2,G=/([A-Z])/g,H=/(left|right|width|margin|padding|x)/i,I=/[\s,\(]\S/,e={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},J=function(b,a){return a.set(a.t,a.p,Math.round((a.s+a.c*b)*1e4)/1e4+a.u,a)},K=function(c,a){var b=a.s+a.c*c;a.set(a.t,a.p,~~(b+(b<0?-0.5:.5))+a.u,a)},L=function(b,a){return a.set(a.t,a.p,b?a.e:a.b,a)},M=function(b,a){return a.set(a.t,a.p,1!==b?a.b:a.e,a)},N=function(b,e,c,f,d){var a=b._gsap;a.scaleX=a.scaleY=c,a.renderTransform(d,a)},O=function(b,c,d,f,e){var a=b._gsap;a[c]=d,a.renderTransform(e,a)},k="transform",P=k+"Origin",Q=function f(a,c){var g=this,b=this.target,d=b.style;if(a in C&&d){if(this.tfm=this.tfm||{},"transform"===a)return e.transform.split(",").forEach(function(a){return f.call(g,a,c)});if(~(a=e[a]||a).indexOf(",")?a.split(",").forEach(function(a){return g.tfm[a]=p(b,a)}):this.tfm[a]=b._gsap.x?b._gsap[a]:p(b,a),this.props.indexOf(k)>=0)return;b._gsap.svg&&(this.svgo=b.getAttribute("data-svg-origin"),this.props.push(P,c,"")),a=k}(d||c)&&this.props.push(a,c,d[a])},R=function(a){a.translate&&(a.removeProperty("translate"),a.removeProperty("scale"),a.removeProperty("rotate"))},S=function(){var a,f,b=this.props,c=this.target,d=c.style,e=c._gsap;for(a=0;a<b.length;a+=3)b[a+1]?c[b[a]]=b[a+2]:b[a+2]?d[b[a]]=b[a+2]:d.removeProperty("--"===b[a].substr(0,2)?b[a]:b[a].replace(G,"-$1").toLowerCase());if(this.tfm){for(f in this.tfm)e[f]=this.tfm[f];e.svg&&(e.renderTransform(),c.setAttribute("data-svg-origin",this.svgo||"")),(a=A())&&a.isStart||d[k]||(R(d),e.uncache=1)}},l=function(b,c){var d={target:b,props:[],revert:S,save:Q};return b._gsap||a.p8.core.getCache(b),c&&c.split(",").forEach(function(a){return d.save(a)}),d},T=function(a,c){var b=u.createElementNS?u.createElementNS((c||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),a):u.createElement(a);return b.style?b:u.createElement(a)},U=function d(c,a,e){var b=getComputedStyle(c);return b[a]||b.getPropertyValue(a.replace(G,"-$1").toLowerCase())||b.getPropertyValue(a)|| !e&&d(c,m(a)||a,1)||""},V="O,Moz,ms,Ms,Webkit".split(","),m=function(a,d,e){var c=(d||x).style,b=5;if(a in c&&!e)return a;for(a=a.charAt(0).toUpperCase()+a.substr(1);(b--)&&!(V[b]+a in c););return b<0?null:(3===b?"ms":b>=0?V[b]:"")+a},n=function(){"undefined"!=typeof window&&window.document&&(v=(u=(t=window).document).documentElement,x=T("div")||{style:{}},y=T("div"),k=m(k),P=k+"Origin",x.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",B=!!m("perspective"),A=a.p8.core.reverting,w=1)},W=function e(f){var a,b=T("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),c=this.parentNode,d=this.nextSibling,g=this.style.cssText;if(v.appendChild(b),b.appendChild(this),this.style.display="block",f)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(h){}else this._gsapBBox&&(a=this._gsapBBox());return c&&(d?c.insertBefore(this,d):c.appendChild(this)),v.removeChild(b),this.style.cssText=g,a},X=function(c,a){for(var b=a.length;b--;)if(c.hasAttribute(a[b]))return c.getAttribute(a[b])},Y=function(b){var a;try{a=b.getBBox()}catch(c){a=W.call(b,!0)}return a&&(a.width||a.height)||b.getBBox===W||(a=W.call(b,!0)),!a||a.width||a.x||a.y?a:{x:+X(b,["x","cx","x1"])||0,y:+X(b,["y","cy","y1"])||0,width:0,height:0}},Z=function(a){return!!(a.getCTM&&(!a.parentNode||a.ownerSVGElement)&&Y(a))},o=function(c,a){if(a){var b=c.style;a in C&&a!==P&&(a=k),b.removeProperty?(("ms"===a.substr(0,2)||"webkit"===a.substr(0,6))&&(a="-"+a),b.removeProperty(a.replace(G,"-$1").toLowerCase())):b.removeAttribute(a)}},$=function(c,e,d,f,g,h){var b=new a.Fo(c._pt,e,d,0,1,h?M:L);return c._pt=b,b.b=f,b.e=g,c._props.push(d),b},_={deg:1,rad:1,turn:1},aa={grid:1,flex:1},ab=function r(c,i,m,g){var e,b,f,n,d=parseFloat(m)||0,h=(m+"").trim().substr((d+"").length)||"px",l=x.style,j=H.test(i),q="svg"===c.tagName.toLowerCase(),o=(q?"client":"offset")+(j?"Width":"Height"),p="px"===g,k="%"===g;return g===h||!d||_[g]||_[h]?d:("px"===h||p||(d=r(c,i,m,"px")),n=c.getCTM&&Z(c),(k||"%"===h)&&(C[i]|| ~i.indexOf("adius")))?(e=n?c.getBBox()[j?"width":"height"]:c[o],(0,a.Pr)(k?d/e*100:d/100*e)):(l[j?"width":"height"]=100+(p?h:g),b=~i.indexOf("adius")||"em"===g&&c.appendChild&&!q?c:c.parentNode,n&&(b=(c.ownerSVGElement||{}).parentNode),b&&b!==u&&b.appendChild||(b=u.body),(f=b._gsap)&&k&&f.width&&j&&f.time===a.xr.time&&!f.uncache)?(0,a.Pr)(d/f.width*100):((k||"%"===h)&&!aa[U(b,"display")]&&(l.position=U(c,"position")),b===c&&(l.position="static"),b.appendChild(x),e=x[o],b.removeChild(x),l.position="absolute",j&&k&&((f=(0,a.DY)(b)).time=a.xr.time,f.width=b[o]),(0,a.Pr)(p?e*d/100:e&&d?100/e*d:0))},p=function(d,b,f,g){var c;return w||n(),b in e&&"transform"!==b&& ~(b=e[b]).indexOf(",")&&(b=b.split(",")[0]),C[b]&&"transform"!==b?(c=am(d,g),c="transformOrigin"!==b?c[b]:c.svg?c.origin:an(U(d,P))+" "+c.zOrigin+"px"):(!(c=d.style[b])||"auto"===c||g|| ~(c+"").indexOf("calc("))&&(c=ag[b]&&ag[b](d,b,f)||U(d,b)||(0,a.Ok)(d,b)||("opacity"===b?1:0)),f&&!~(c+"").trim().indexOf(" ")?ab(d,b,c,f)+f:c},ac=function(g,c,d,b){if(!d||"none"===d){var q=m(c,g,1),r=q&&U(g,q,1);r&&r!==d?(c=q,d=r):"borderColor"===c&&(d=U(g,"borderTopColor"))}var n,s,u,i,j,o,h,t,k,f,p,v,e=new a.Fo(this._pt,g.style,c,0,1,a.Ks),l=0,w=0;if(e.b=d,e.e=b,d+="","auto"==(b+="")&&(g.style[c]=b,b=U(g,c)||b,g.style[c]=d),n=[d,b],(0,a.kr)(n),d=n[0],b=n[1],u=d.match(a.d4)||[],v=b.match(a.d4)||[],v.length){for(;s=a.d4.exec(b);)h=s[0],k=b.substring(l,s.index),j?j=(j+1)%5:("rgba("===k.substr(-5)||"hsla("===k.substr(-5))&&(j=1),h!==(o=u[w++]||"")&&(i=parseFloat(o)||0,p=o.substr((i+"").length),"="===h.charAt(1)&&(h=(0,a.cy)(i,h)+p),t=parseFloat(h),f=h.substr((t+"").length),l=a.d4.lastIndex-f.length,f||(f=f||a.Fc.units[c]||p,l!==b.length||(b+=f,e.e+=f)),p!==f&&(i=ab(g,c,o,f)||0),e._pt={_next:e._pt,p:k||1===w?k:",",s:i,c:t-i,m:j&&j<4||"zIndex"===c?Math.round:0});e.c=l<b.length?b.substring(l,b.length):""}else e.r="display"===c&&"none"===b?M:L;return a.bQ.test(b)&&(e.e=0),this._pt=e,e},ad={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ae=function(d){var c=d.split(" "),a=c[0],b=c[1]||"50%";return("top"===a||"bottom"===a||"left"===b||"right"===b)&&(d=a,a=b,b=d),c[0]=ad[a]||a,c[1]=ad[b]||b,c.join(" ")},af=function(i,b){if(b.tween&&b.tween._time===b.tween._dur){var d,e,f,a=b.t,h=a.style,c=b.u,g=a._gsap;if("all"===c|| !0===c)h.cssText="",e=1;else for(f=(c=c.split(",")).length;--f> -1;)C[d=c[f]]&&(e=1,d="transformOrigin"===d?P:k),o(a,d);e&&(o(a,k),g&&(g.svg&&a.removeAttribute("transform"),am(a,1),g.uncache=1,R(h)))}},ag={clearProps:function(b,f,d,g,e){if("isFromStart"!==e.data){var c=b._pt=new a.Fo(b._pt,f,d,0,0,af);return c.u=g,c.pr=-10,c.tween=e,b._props.push(d),1}}},ah=[1,0,0,1,0,0],ai={},aj=function(a){return"matrix(1, 0, 0, 1, 0, 0)"===a||"none"===a||!a},ak=function(c){var b=U(c,k);return aj(b)?ah:b.substr(7).match(a.SI).map(a.Pr)},q=function(b,j){var e,f,d,h,i=b._gsap||(0,a.DY)(b),g=b.style,c=ak(b);return i.svg&&b.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(d=b.transform.baseVal.consolidate().matrix).a,d.b,d.c,d.d,d.e,d.f]).join(",")?ah:c:(c!==ah||b.offsetParent||b===v||i.svg||(d=g.display,g.display="block",e=b.parentNode,e&&b.offsetParent||(h=1,f=b.nextElementSibling,v.appendChild(b)),c=ak(b),d?g.display=d:o(b,"display"),h&&(f?e.insertBefore(b,f):e?e.appendChild(b):v.removeChild(b))),j&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},al=function(h,r,s,p,z,i){var k,d,t,u,a=h._gsap,e=z||q(h,!0),v=a.xOrigin||0,w=a.yOrigin||0,x=a.xOffset||0,y=a.yOffset||0,l=e[0],m=e[1],n=e[2],o=e[3],f=e[4],g=e[5],j=r.split(" "),b=parseFloat(j[0])||0,c=parseFloat(j[1])||0;s?e!==ah&&(d=l*o-m*n)&&(t=b*(o/d)+c*(-n/d)+(n*g-o*f)/d,u=b*(-m/d)+c*(l/d)-(l*g-m*f)/d,b=t,c=u):(b=(k=Y(h)).x+(~j[0].indexOf("%")?b/100*k.width:b),c=k.y+(~(j[1]||j[0]).indexOf("%")?c/100*k.height:c)),p|| !1!==p&&a.smooth?(f=b-v,g=c-w,a.xOffset=x+(f*l+g*n)-f,a.yOffset=y+(f*m+g*o)-g):a.xOffset=a.yOffset=0,a.xOrigin=b,a.yOrigin=c,a.smooth=!!p,a.origin=r,a.originIsAbsolute=!!s,h.style[P]="0px 0px",i&&($(i,a,"xOrigin",v,b),$(i,a,"yOrigin",w,c),$(i,a,"xOffset",x,a.xOffset),$(i,a,"yOffset",y,a.yOffset)),h.setAttribute("data-svg-origin",b+" "+c)},am=function(c,z){var b=c._gsap||new a.l1(c);if("x"in b&&!z&&!b.uncache)return b;var u,v,Q,G,A,o,C,H,m,S,R,L,M,d,e,f,g,h,i,n,w,t,p,j,r,N,I,J,x,T,s,y,K=c.style,V=b.scaleX<0,l=getComputedStyle(c),O=U(c,P)||"0";return u=v=Q=o=C=H=m=S=R=0,G=A=1,b.svg=!!(c.getCTM&&Z(c)),l.translate&&(("none"!==l.translate||"none"!==l.scale||"none"!==l.rotate)&&(K[k]=("none"!==l.translate?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==l.rotate?"rotate("+l.rotate+") ":"")+("none"!==l.scale?"scale("+l.scale.split(" ").join(",")+") ":"")+("none"!==l[k]?l[k]:"")),K.scale=K.rotate=K.translate="none"),d=q(c,b.svg),b.svg&&(b.uncache?(r=c.getBBox(),O=b.xOrigin-r.x+"px "+(b.yOrigin-r.y)+"px",j=""):j=!z&&c.getAttribute("data-svg-origin"),al(c,j||O,!!j||b.originIsAbsolute,!1!==b.smooth,d)),L=b.xOrigin||0,M=b.yOrigin||0,d!==ah&&(h=d[0],i=d[1],n=d[2],w=d[3],u=t=d[4],v=p=d[5],6===d.length?(G=Math.sqrt(h*h+i*i),A=Math.sqrt(w*w+n*n),o=h||i?F(i,h)*D:0,m=n||w?F(n,w)*D+o:0,m&&(A*=Math.abs(Math.cos(m*E))),b.svg&&(u-=L-(L*h+M*n),v-=M-(L*i+M*w))):(y=d[6],T=d[7],I=d[8],J=d[9],x=d[10],s=d[11],u=d[12],v=d[13],Q=d[14],e=F(y,x),C=e*D,e&&(f=Math.cos(-e),g=Math.sin(-e),j=t*f+I*g,r=p*f+J*g,N=y*f+x*g,I=-(t*g)+I*f,J=-(p*g)+J*f,x=-(y*g)+x*f,s=-(T*g)+s*f,t=j,p=r,y=N),e=F(-n,x),H=e*D,e&&(f=Math.cos(-e),g=Math.sin(-e),j=h*f-I*g,r=i*f-J*g,N=n*f-x*g,s=w*g+s*f,h=j,i=r,n=N),e=F(i,h),o=e*D,e&&(f=Math.cos(e),g=Math.sin(e),j=h*f+i*g,r=t*f+p*g,i=i*f-h*g,p=p*f-t*g,h=j,t=r),C&&Math.abs(C)+Math.abs(o)>359.9&&(C=o=0,H=180-H),G=(0,a.Pr)(Math.sqrt(h*h+i*i+n*n)),A=(0,a.Pr)(Math.sqrt(p*p+y*y)),e=F(t,p),m=Math.abs(e)>2e-4?e*D:0,R=s?1/(s<0?-s:s):0),b.svg&&(j=c.getAttribute("transform"),b.forceCSS=c.setAttribute("transform","")||!aj(U(c,k)),j&&c.setAttribute("transform",j))),Math.abs(m)>90&&270>Math.abs(m)&&(V?(G*=-1,m+=o<=0?180:-180,o+=o<=0?180:-180):(A*=-1,m+=m<=0?180:-180)),z=z||b.uncache,b.x=u-((b.xPercent=u&&(!z&&b.xPercent||(Math.round(c.offsetWidth/2)===Math.round(-u)?-50:0)))?c.offsetWidth*b.xPercent/100:0)+"px",b.y=v-((b.yPercent=v&&(!z&&b.yPercent||(Math.round(c.offsetHeight/2)===Math.round(-v)?-50:0)))?c.offsetHeight*b.yPercent/100:0)+"px",b.z=Q+"px",b.scaleX=(0,a.Pr)(G),b.scaleY=(0,a.Pr)(A),b.rotation=(0,a.Pr)(o)+"deg",b.rotationX=(0,a.Pr)(C)+"deg",b.rotationY=(0,a.Pr)(H)+"deg",b.skewX=m+"deg",b.skewY=S+"deg",b.transformPerspective=R+"px",(b.zOrigin=parseFloat(O.split(" ")[2])||0)&&(K[P]=an(O)),b.xOffset=b.yOffset=0,b.force3D=a.Fc.force3D,b.renderTransform=b.svg?as:B?ar:ap,b.uncache=0,b},an=function(a){return(a=a.split(" "))[0]+" "+a[1]},ao=function(d,b,e){var c=(0,a.Wy)(b);return(0,a.Pr)(parseFloat(b)+parseFloat(ab(d,"x",e+"px",c)))+c},ap=function(b,a){a.z="0px",a.rotationY=a.rotationX="0deg",a.force3D=0,ar(b,a)},aq="0deg",ar=function(m,x){var a=x||this,n=a.xPercent,o=a.yPercent,c=a.x,d=a.y,e=a.z,p=a.rotation,g=a.rotationY,h=a.rotationX,q=a.skewX,r=a.skewY,s=a.scaleX,t=a.scaleY,u=a.transformPerspective,v=a.force3D,i=a.target,f=a.zOrigin,b="",w="auto"===v&&m&&1!==m|| !0===v;if(f&&(h!==aq||g!==aq)){var l,j=parseFloat(g)*E,y=Math.sin(j),z=Math.cos(j);l=Math.cos(j=parseFloat(h)*E),c=ao(i,c,-(y*l*f)),d=ao(i,d,-(-Math.sin(j)*f)),e=ao(i,e,-(z*l*f)+f)}"0px"!==u&&(b+="perspective("+u+") "),(n||o)&&(b+="translate("+n+"%, "+o+"%) "),(w||"0px"!==c||"0px"!==d||"0px"!==e)&&(b+="0px"!==e||w?"translate3d("+c+", "+d+", "+e+") ":"translate("+c+", "+d+") "),p!==aq&&(b+="rotate("+p+") "),g!==aq&&(b+="rotateY("+g+") "),h!==aq&&(b+="rotateX("+h+") "),(q!==aq||r!==aq)&&(b+="skew("+q+", "+r+") "),(1!==s||1!==t)&&(b+="scale("+s+", "+t+") "),i.style[k]=b||"translate(0, 0)"},as=function(A,y){var g,h,i,j,b,c=y||this,u=c.xPercent,v=c.yPercent,q=c.x,r=c.y,e=c.rotation,f=c.skewX,d=c.skewY,s=c.scaleX,t=c.scaleY,n=c.target,o=c.xOrigin,p=c.yOrigin,w=c.xOffset,x=c.yOffset,z=c.forceCSS,l=parseFloat(q),m=parseFloat(r);e=parseFloat(e),f=parseFloat(f),d=parseFloat(d),d&&(d=parseFloat(d),f+=d,e+=d),e||f?(e*=E,f*=E,g=Math.cos(e)*s,h=Math.sin(e)*s,i=-(Math.sin(e-f)*t),j=Math.cos(e-f)*t,f&&(d*=E,b=Math.tan(f-d),b=Math.sqrt(1+b*b),i*=b,j*=b,d&&(b=Math.tan(d),b=Math.sqrt(1+b*b),g*=b,h*=b)),g=(0,a.Pr)(g),h=(0,a.Pr)(h),i=(0,a.Pr)(i),j=(0,a.Pr)(j)):(g=s,j=t,h=i=0),(l&&!~(q+"").indexOf("px")||m&&!~(r+"").indexOf("px"))&&(l=ab(n,"x",q,"px"),m=ab(n,"y",r,"px")),(o||p||w||x)&&(l=(0,a.Pr)(l+o-(o*g+p*i)+w),m=(0,a.Pr)(m+p-(o*h+p*j)+x)),(u||v)&&(b=n.getBBox(),l=(0,a.Pr)(l+u/100*b.width),m=(0,a.Pr)(m+v/100*b.height)),b="matrix("+g+","+h+","+i+","+j+","+l+","+m+")",n.setAttribute("transform",b),z&&(n.style[k]=b)},at=function(e,j,h,f,c){var g,d,i=(0,a.r9)(c),b=parseFloat(c)*(i&& ~c.indexOf("rad")?D:1)-f,k=f+b+"deg";return i&&("short"===(g=c.split("_")[1])&&(b%=360)!=b%180&&(b+=b<0?360:-360),"cw"===g&&b<0?b=(b+36e9)%360-360*~~(b/360):"ccw"===g&&b>0&&(b=(b-36e9)%360-360*~~(b/360))),e._pt=d=new a.Fo(e._pt,j,h,f,b,function(b,a){return a.set(a.t,a.p,1===b?a.e:Math.round((a.s+a.c*b)*1e4)/1e4+a.u,a)}),d.e=k,d.u="deg",e._props.push(h),d},au=function(a,b){for(var c in b)a[c]=b[c];return a},av=function(f,m,b){var e,d,c,g,i,n,p,h,j=au({},b._gsap),l=b.style;for(d in j.svg?(c=b.getAttribute("transform"),b.setAttribute("transform",""),l[k]=m,e=am(b,1),o(b,k),b.setAttribute("transform",c)):(c=getComputedStyle(b)[k],l[k]=m,e=am(b,1),l[k]=c),C)c=j[d],g=e[d],c!==g&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(d)&&(p=(0,a.Wy)(c),h=(0,a.Wy)(g),i=p!==h?ab(b,d,c,h):parseFloat(c),n=parseFloat(g),f._pt=new a.Fo(f._pt,e,d,i,n-i,J),f._pt.u=h||0,f._props.push(d));au(e,j)};(0,a.fS)("padding,margin,Width,Radius",function(d,e){var a="Right",b="Bottom",c="Left",f=(e<3?["Top",a,b,c]:["Top"+c,"Top"+a,b+a,b+c]).map(function(a){return e<2?d+a:"border"+a+d});ag[e>1?"border"+d:d]=function(c,d,h,e,g){var a,b;if(arguments.length<4)return 5===(b=(a=f.map(function(a){return p(c,a,h)})).join(" ")).split(a[0]).length?a[0]:b;a=(e+"").split(" "),b={},f.forEach(function(d,c){return b[d]=a[c]=a[c]||a[(c-1)/2|0]}),c.init(d,b,g)}});var c,b,f,g,h,i={name:"css",register:n,targetTest:function(a){return a.style&&a.nodeType},init:function(f,s,t,x,y){var d,c,o,i,u,B,b,r,h,q,z,F,g,D,G,v,E=this._props,j=f.style,A=t.vars.startAt;for(b in w||n(),this.styles=this.styles||l(f),v=this.styles.props,this.tween=t,s){if("autoRound"!==b){if(c=s[b],!(a.$i[b]&&(0,a.if)(b,s,t,x,f,y))){if(u=typeof c,B=ag[b],"function"===u&&(u=typeof(c=c.call(t,x,f,y))),"string"===u&& ~c.indexOf("random(")&&(c=(0,a.UI)(c)),B)B(this,f,b,c,t)&&(G=1);else if("--"===b.substr(0,2))d=(getComputedStyle(f).getPropertyValue(b)+"").trim(),c+="",a.GN.lastIndex=0,a.GN.test(d)||(r=(0,a.Wy)(d),h=(0,a.Wy)(c)),h?r!==h&&(d=ab(f,b,d,h)+h):r&&(c+=r),this.add(j,"setProperty",d,c,x,y,0,0,b),E.push(b),v.push(b,0,j[b]);else if("undefined"!==u){if(A&&b in A?(d="function"==typeof A[b]?A[b].call(t,x,f,y):A[b],(0,a.r9)(d)&& ~d.indexOf("random(")&&(d=(0,a.UI)(d)),(0,a.Wy)(d+"")||(d+=a.Fc.units[b]||(0,a.Wy)(p(f,b))||""),"="===(d+"").charAt(1)&&(d=p(f,b))):d=p(f,b),i=parseFloat(d),(q="string"===u&&"="===c.charAt(1)&&c.substr(0,2))&&(c=c.substr(2)),o=parseFloat(c),b in e&&("autoAlpha"===b&&(1===i&&"hidden"===p(f,"visibility")&&o&&(i=0),v.push("visibility",0,j.visibility),$(this,j,"visibility",i?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==b&&"transform"!==b&& ~(b=e[b]).indexOf(",")&&(b=b.split(",")[0])),z=b in C){if(this.styles.save(b),F||((g=f._gsap).renderTransform&&!s.parseTransform||am(f,s.parseTransform),D=!1!==s.smoothOrigin&&g.smooth,(F=this._pt=new a.Fo(this._pt,j,k,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===b)this._pt=new a.Fo(this._pt,g,"scaleY",g.scaleY,(q?(0,a.cy)(g.scaleY,q+o):o)-g.scaleY||0,J),this._pt.u=0,E.push("scaleY",b),b+="X";else if("transformOrigin"===b){v.push(P,0,j[P]),c=ae(c),g.svg?al(f,c,0,D,0,this):((h=parseFloat(c.split(" ")[2])||0)!==g.zOrigin&&$(this,g,"zOrigin",g.zOrigin,h),$(this,j,b,an(d),an(c)));continue}else if("svgOrigin"===b){al(f,c,1,D,0,this);continue}else if(b in ai){at(this,g,b,i,q?(0,a.cy)(i,q+c):c);continue}else if("smoothOrigin"===b){$(this,g,"smooth",g.smooth,c);continue}else if("force3D"===b){g[b]=c;continue}else if("transform"===b){av(this,c,f);continue}}else b in j||(b=m(b)||b);if(z||(o||0===o)&&(i||0===i)&&!I.test(c)&&b in j)r=(d+"").substr((i+"").length),o||(o=0),h=(0,a.Wy)(c)||(b in a.Fc.units?a.Fc.units[b]:r),r!==h&&(i=ab(f,b,d,h)),this._pt=new a.Fo(this._pt,z?g:j,b,i,(q?(0,a.cy)(i,q+o):o)-i,z||"px"!==h&&"zIndex"!==b|| !1===s.autoRound?J:K),this._pt.u=h||0,r!==h&&"%"!==h&&(this._pt.b=d,this._pt.r=function(b,a){return a.set(a.t,a.p,b?Math.round((a.s+a.c*b)*1e4)/1e4+a.u:a.b,a)});else if(b in j)ac.call(this,f,b,d,q?q+c:c);else if(b in f)this.add(f,b,d||f[b],q?q+c:c,x,y);else if("parseTransform"!==b){(0,a.lC)(b,c);continue}z||(b in j?v.push(b,0,j[b]):v.push(b,1,d||f[b])),E.push(b)}}}}G&&(0,a.JV)(this)},render:function(c,b){if(b.tween._time||!A())for(var a=b._pt;a;)a.r(c,a.d),a=a._next;else b.styles.revert()},get:p,aliases:e,getSetter:function(c,b,d){var f=e[b];return f&&0>f.indexOf(",")&&(b=f),b in C&&b!==P&&(c._gsap.x||p(c,"x"))?d&&z===d?"scale"===b?function(a,c,b){return a._gsap.scaleX=a._gsap.scaleY=b}:function(a,b,c){return a._gsap[b]=c}:(z=d||{},"scale"===b?N:O):c.style&&!(0,a.m2)(c.style[b])?function(a,b,c){return a.style[b]=c}:~b.indexOf("-")?function(a,b,c){return a.style.setProperty(b,c)}:(0,a.S5)(c,b)},core:{_removeProperty:o,_getMatrix:q}};a.p8.utils.checkPrefix=m,a.p8.core.getStyleSaver=l,c="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",b="rotation,rotationX,rotationY,skewX,skewY",f="transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",g="0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",h=(0,a.fS)(c+","+b+","+f,function(a){C[a]=1}),(0,a.fS)(b,function(b){a.Fc.units[b]="deg",ai[b]=1}),e[h[13]]=c+","+b,(0,a.fS)(g,function(b){var a=b.split(":");e[a[1]]=h[a[0]]}),(0,a.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(b){a.Fc.units[b]="px"}),a.p8.registerPlugin(i);var r=a.p8.registerPlugin(i)||a.p8;r.core.Tween},3630:function(c,a,b){"use strict";b.d(a,{Z:function(){return t}});var d=/iPhone/i,e=/iPod/i,f=/iPad/i,g=/\biOS-universal(?:.+)Mac\b/i,h=/\bAndroid(?:.+)Mobile\b/i,i=/Android/i,j=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,k=/Silk/i,l=/Windows Phone/i,m=/\bWindows(?:.+)ARM\b/i,n=/BlackBerry/i,o=/BB10/i,p=/Opera Mini/i,q=/\b(CriOS|Chrome)(?:.+)Mobile/i,r=/Mobile(?:.+)Firefox\b/i,s=function(a){return void 0!==a&&"MacIntel"===a.platform&&"number"==typeof a.maxTouchPoints&&a.maxTouchPoints>1&&"undefined"==typeof MSStream};function t(c){var t={userAgent:"",platform:"",maxTouchPoints:0};c||"undefined"==typeof navigator?"string"==typeof c?t.userAgent=c:c&&c.userAgent&&(t={userAgent:c.userAgent,platform:c.platform,maxTouchPoints:c.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var w,u=t.userAgent,v=u.split("[FBAN");void 0!==v[1]&&(u=v[0]),void 0!==(v=u.split("Twitter"))[1]&&(u=v[0]);var a=(w=u,function(a){return a.test(w)}),b={apple:{phone:a(d)&&!a(l),ipod:a(e),tablet:!a(d)&&(a(f)||s(t))&&!a(l),universal:a(g),device:(a(d)||a(e)||a(f)||a(g)||s(t))&&!a(l)},amazon:{phone:a(j),tablet:!a(j)&&a(k),device:a(j)||a(k)},android:{phone:!a(l)&&a(j)|| !a(l)&&a(h),tablet:!a(l)&&!a(j)&&!a(h)&&(a(k)||a(i)),device:!a(l)&&(a(j)||a(k)||a(h)||a(i))||a(/\bokhttp\b/i)},windows:{phone:a(l),tablet:a(m),device:a(l)||a(m)},other:{blackberry:a(n),blackberry10:a(o),opera:a(p),firefox:a(r),chrome:a(q),device:a(n)||a(o)||a(p)||a(r)||a(q)},any:!1,phone:!1,tablet:!1};return b.any=b.apple.device||b.android.device||b.windows.device||b.other.device,b.phone=b.apple.phone||b.android.phone||b.windows.phone,b.tablet=b.apple.tablet||b.android.tablet||b.windows.tablet,b}},7637:function(d,b,e){"use strict";/* unused harmony exports BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController */ /**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */ /**
 * Base class for all controllers.
 */ class a{constructor(c,d,b,e,f="div"){this.parent=c,this.object=d,this.property=b,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(e),this.$name=document.createElement("div"),this.$name.classList.add("name"),a.nextNameID=a.nextNameID||0,this.$name.id=`lil-gui-name-${++a.nextNameID}`,this.$widget=document.createElement(f),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(b)}name(a){return this._name=a,this.$name.innerHTML=a,this}onChange(a){return this._onChange=a,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(a){return this._onFinishChange=a,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(a=!0){return this.disable(!a)}disable(a=!0){return a===this._disabled||(this._disabled=a,this.domElement.classList.toggle("disabled",a),this.$disable.toggleAttribute("disabled",a)),this}show(a=!0){return this._hidden=!a,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(b){let a=this.parent.add(this.object,this.property,b);return a.name(this._name),this.destroy(),a}min(a){return this}max(a){return this}step(a){return this}decimals(a){return this}listen(a=!0){return this._listening=a,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);let a=this.save();a!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=a}getValue(){return this.object[this.property]}setValue(a){return this.object[this.property]=a,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(a){return this.setValue(a),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class f extends a{constructor(a,b,c){super(a,b,c,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function g(c){let a,b;return(a=c.match(/(#|0x)?([a-f0-9]{6})/i))?b=a[2]:(a=c.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?b=parseInt(a[1]).toString(16).padStart(2,0)+parseInt(a[2]).toString(16).padStart(2,0)+parseInt(a[3]).toString(16).padStart(2,0):(a=c.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(b=a[1]+a[1]+a[2]+a[2]+a[3]+a[3]),!!b&&"#"+b}let h={isPrimitive:!0,match:a=>"number"==typeof a,fromHexString:a=>parseInt(a.substring(1),16),toHexString:a=>"#"+a.toString(16).padStart(6,0)},i={isPrimitive:!1,match:Array.isArray,fromHexString(d,a,b=1){let c=h.fromHexString(d);a[0]=(c>>16&255)/255*b,a[1]=(c>>8&255)/255*b,a[2]=(255&c)/255*b},toHexString([b,c,d],a=1){a=255/a;let e=b*a<<16^c*a<<8^d*a<<0;return h.toHexString(e)}},j={isPrimitive:!1,match:a=>Object(a)===a,fromHexString(d,a,b=1){let c=h.fromHexString(d);a.r=(c>>16&255)/255*b,a.g=(c>>8&255)/255*b,a.b=(255&c)/255*b},toHexString({r:b,g:c,b:d},a=1){a=255/a;let e=b*a<<16^c*a<<8^d*a<<0;return h.toHexString(e)}};class k extends a{constructor(a,b,c,d){var e;super(a,b,c,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(e=this.initialValue,[{isPrimitive:!0,match:a=>"string"==typeof a,fromHexString:g,toHexString:g},h,i,j].find(a=>a.match(e))),this._rgbScale=d,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{let a=g(this.$text.value);a&&this._setValueFromHexString(a)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(a){if(this._format.isPrimitive){let b=this._format.fromHexString(a);this.setValue(b)}else this._format.fromHexString(a,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(a){return this._setValueFromHexString(a),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class l extends a{constructor(a,b,c){super(a,b,c,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",a=>{a.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class m extends a{constructor(c,d,e,f,g,a){super(c,d,e,"number"),this._initInput(),this.min(f),this.max(g);let b=void 0!==a;this.step(b?a:this._getImplicitStep(),b),this.updateDisplay()}decimals(a){return this._decimals=a,this.updateDisplay(),this}min(a){return this._min=a,this._onUpdateMinMax(),this}max(a){return this._max=a,this._onUpdateMinMax(),this}step(a,b=!0){return this._step=a,this._stepExplicit=b,this}updateDisplay(){let a=this.getValue();if(this._hasSlider){let b=(a-this._min)/(this._max-this._min);b=Math.max(0,Math.min(b,1)),this.$fill.style.width=100*b+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?a:a.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;let a=b=>{let a=parseFloat(this.$input.value);isNaN(a)||(this._snapClampSetValue(a+b),this.$input.value=this.getValue())},b=!1,c,d,e,f,g,h=a=>{if(b){let h=a.clientX-c,j=a.clientY-d;Math.abs(j)>5?(a.preventDefault(),this.$input.blur(),b=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(h)>5&&i()}if(!b){let k=a.clientY-e;f+(g-=k*this._step*this._arrowKeyMultiplier(a))>this._max?g=this._max-f:f+g<this._min&&(g=this._min-f),this._snapClampSetValue(f+g)}e=a.clientY},i=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i)};this.$input.addEventListener("input",()=>{let a=parseFloat(this.$input.value);isNaN(a)||(this._stepExplicit&&(a=this._snap(a)),this.setValue(this._clamp(a)))}),this.$input.addEventListener("keydown",b=>{"Enter"===b.code&&this.$input.blur(),"ArrowUp"===b.code&&(b.preventDefault(),a(this._step*this._arrowKeyMultiplier(b))),"ArrowDown"===b.code&&(b.preventDefault(),a(-(this._step*this._arrowKeyMultiplier(b)*1)))}),this.$input.addEventListener("wheel",b=>{this._inputFocused&&(b.preventDefault(),a(this._step*this._normalizeMouseWheel(b)))},{passive:!1}),this.$input.addEventListener("mousedown",a=>{c=a.clientX,d=e=a.clientY,b=!0,f=this.getValue(),g=0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",i)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");let a=(c,a,d,b,e)=>(c-a)/(d-a)*(e-b)+b,b=c=>{let b=this.$slider.getBoundingClientRect(),d=a(c,b.left,b.right,this._min,this._max);this._snapClampSetValue(d)},c=a=>{b(a.clientX)},d=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",d)},e=!1,f,g,h=a=>{a.preventDefault(),this._setDraggingStyle(!0),b(a.touches[0].clientX),e=!1},i=a=>{if(e){let c=a.touches[0].clientX-f,d=a.touches[0].clientY-g;Math.abs(c)>Math.abs(d)?h(a):(window.removeEventListener("touchmove",i),window.removeEventListener("touchend",j))}else a.preventDefault(),b(a.touches[0].clientX)},j=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",j)},k=this._callOnFinishChange.bind(this),l;this.$slider.addEventListener("mousedown",a=>{this._setDraggingStyle(!0),b(a.clientX),window.addEventListener("mousemove",c),window.addEventListener("mouseup",d)}),this.$slider.addEventListener("touchstart",a=>{a.touches.length>1||(this._hasScrollBar?(f=a.touches[0].clientX,g=a.touches[0].clientY,e=!0):h(a),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",j))},{passive:!1}),this.$slider.addEventListener("wheel",a=>{let b=Math.abs(a.deltaX)<Math.abs(a.deltaY);if(b&&this._hasScrollBar)return;a.preventDefault();let c=this._normalizeMouseWheel(a)*this._step;this._snapClampSetValue(this.getValue()+c),this.$input.value=this.getValue(),clearTimeout(l),l=setTimeout(k,400)},{passive:!1})}_setDraggingStyle(a,b="horizontal"){this.$slider&&this.$slider.classList.toggle("active",a),document.body.classList.toggle("lil-gui-dragging",a),document.body.classList.toggle(`lil-gui-${b}`,a)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(a){let{deltaX:c,deltaY:b}=a;Math.floor(a.deltaY)!==a.deltaY&&a.wheelDelta&&(c=0,b=-a.wheelDelta/120,b*=this._stepExplicit?1:10);let d=c+ -b;return d}_arrowKeyMultiplier(b){let a=this._stepExplicit?1:10;return b.shiftKey?a*=10:b.altKey&&(a/=10),a}_snap(a){let b=Math.round(a/this._step)*this._step;return parseFloat(b.toPrecision(15))}_clamp(a){return a<this._min&&(a=this._min),a>this._max&&(a=this._max),a}_snapClampSetValue(a){this.setValue(this._clamp(this._snap(a)))}get _hasScrollBar(){let a=this.parent.root.$children;return a.scrollHeight>a.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class n extends a{constructor(b,c,d,a){super(b,c,d,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(a)?a:Object.values(a),this._names=Array.isArray(a)?a:Object.keys(a),this._names.forEach(b=>{let a=document.createElement("option");a.innerHTML=b,this.$select.appendChild(a)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){let b=this.getValue(),a=this._values.indexOf(b);return this.$select.selectedIndex=a,this.$display.innerHTML=-1===a?b:this._names[a],this}}class o extends a{constructor(a,b,c){super(a,b,c,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",a=>{"Enter"===a.code&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let p=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`,q=!1;class c{constructor({parent:a,autoPlace:d=void 0===a,container:b,width:c,title:e="Controls",injectStyles:f=!0,touchStyles:g=!0}={}){if(this.parent=a,this.root=a?a.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",a=>{("Enter"===a.code||"Space"===a.code)&&(a.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(e),g&&this.domElement.classList.add("allow-touch-styles"),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),!q&&f&&(function(c){let a=document.createElement("style");a.innerHTML=c;let b=document.querySelector("head link[rel=stylesheet], head style");b?document.head.insertBefore(a,b):document.head.appendChild(a)}(p),q=!0),b?b.appendChild(this.domElement):d&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),c&&this.domElement.style.setProperty("--width",c+"px"),this.domElement.addEventListener("keydown",a=>a.stopPropagation()),this.domElement.addEventListener("keyup",a=>a.stopPropagation())}add(a,b,c,e,g){if(Object(c)===c)return new n(this,a,b,c);let d=a[b];switch(typeof d){case"number":return new m(this,a,b,c,e,g);case"boolean":return new f(this,a,b);case"string":return new o(this,a,b);case"function":return new l(this,a,b)}console.error(`gui.add failed
	property:`,b,`
	object:`,a,`
	value:`,d)}addColor(a,b,c=1){return new k(this,a,b,c)}addFolder(a){return new c({parent:this,title:a})}load(a,b=!0){return a.controllers&&this.controllers.forEach(b=>{!(b instanceof l)&&b._name in a.controllers&&b.load(a.controllers[b._name])}),b&&a.folders&&this.folders.forEach(b=>{b._title in a.folders&&b.load(a.folders[b._title])}),this}save(a=!0){let b={controllers:{},folders:{}};return this.controllers.forEach(a=>{if(!(a instanceof l)){if(a._name in b.controllers)throw Error(`Cannot save GUI with duplicate property "${a._name}"`);b.controllers[a._name]=a.save()}}),a&&this.folders.forEach(a=>{if(a._title in b.folders)throw Error(`Cannot save GUI with duplicate folder "${a._title}"`);b.folders[a._title]=a.save()}),b}open(a=!0){return this._closed=!a,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(a=!0){return this._hidden=!a,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(a=!0){return this._closed=!a,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{let b=this.$children.clientHeight;this.$children.style.height=b+"px",this.domElement.classList.add("transition");let c=a=>{a.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",c))};this.$children.addEventListener("transitionend",c);let d=a?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!a),requestAnimationFrame(()=>{this.$children.style.height=d+"px"})}),this}title(a){return this._title=a,this.$title.innerHTML=a,this}reset(a=!0){let b=a?this.controllersRecursive():this.controllers;return b.forEach(a=>a.reset()),this}onChange(a){return this._onChange=a,this}_callOnChange(a){this.parent&&this.parent._callOnChange(a),void 0!==this._onChange&&this._onChange.call(this,{object:a.object,property:a.property,value:a.getValue(),controller:a})}onFinishChange(a){return this._onFinishChange=a,this}_callOnFinishChange(a){this.parent&&this.parent._callOnFinishChange(a),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:a.object,property:a.property,value:a.getValue(),controller:a})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(a=>a.destroy())}controllersRecursive(){let a=Array.from(this.controllers);return this.folders.forEach(b=>{a=a.concat(b.controllersRecursive())}),a}foldersRecursive(){let a=Array.from(this.folders);return this.folders.forEach(b=>{a=a.concat(b.foldersRecursive())}),a}}b.ZP=c},2705:function(a,d,b){var c=b(5639).Symbol;a.exports=c},4239:function(c,d,a){var b=a(2705),e=a(9607),f=a(2333),g=b?b.toStringTag:void 0;c.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},7561:function(a,c,b){var d=b(7990),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},1957:function(b,d,a){var c="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;b.exports=c},9607:function(c,e,d){var a=d(2705),b=Object.prototype,f=b.hasOwnProperty,g=b.toString,h=a?a.toStringTag:void 0;c.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(i){}var e=g.call(a);return d&&(b?a[h]=c:delete a[h]),e}},2333:function(a){var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},5639:function(a,f,b){var c=b(1957),d="object"==typeof self&&self&&self.Object===Object&&self,e=c||d||Function("return this")();a.exports=e},7990:function(a){var b=/\s/;a.exports=function(c){for(var a=c.length;a-- &&b.test(c.charAt(a)););return a}},3279:function(b,c,a){var d=a(3218),e=a(7771),f=a(4841),g=Math.max,h=Math.min;b.exports=function(l,b,a){var n,o,i,p,q,r,s=0,m=!1,j=!1,k=!0;if("function"!=typeof l)throw TypeError("Expected a function");function t(a){var b=n,c=o;return n=o=void 0,s=a,p=l.apply(c,b)}function u(a){var c=a-r,d=a-s;return void 0===r||c>=b||c<0||j&&d>=i}function v(){var d,f,g,a,c=e();if(u(c))return w(c);q=setTimeout(v,(f=(d=c)-r,g=d-s,a=b-f,j?h(a,i-g):a))}function w(a){return(q=void 0,k&&n)?t(a):(n=o=void 0,p)}function c(){var a,c=e(),d=u(c);if(n=arguments,o=this,r=c,d){if(void 0===q)return s=a=r,q=setTimeout(v,b),m?t(a):p;if(j)return clearTimeout(q),q=setTimeout(v,b),t(r)}return void 0===q&&(q=setTimeout(v,b)),p}return b=f(b)||0,d(a)&&(m=!!a.leading,j="maxWait"in a,i=j?g(f(a.maxWait)||0,b):i,k="trailing"in a?!!a.trailing:k),c.cancel=function(){void 0!==q&&clearTimeout(q),s=0,n=r=o=q=void 0},c.flush=function(){return void 0===q?p:w(e())},c}},3218:function(a){a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},7005:function(a){a.exports=function(a){return null!=a&&"object"==typeof a}},3448:function(b,c,a){var d=a(4239),e=a(7005);b.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},7771:function(a,c,b){var d=b(5639);a.exports=function(){return d.Date.now()}},4841:function(b,c,a){var d=a(7561),e=a(3218),f=a(3448),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;b.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},9008:function(a,c,b){a.exports=b(5443)},3466:function(a){!function(c,b){a.exports=b()}(this,function(){var a=function(){function b(a){return c.appendChild(a.dom),a}function d(b){for(var a=0;a<c.children.length;a++)c.children[a].style.display=a===b?"block":"none";f=b}var f=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(a){a.preventDefault(),d(++f%c.children.length)},!1);var e=(performance||Date).now(),g=e,h=0,i=b(new a.Panel("FPS","#0ff","#002")),j=b(new a.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var k=b(new a.Panel("MB","#f08","#201"));return d(0),{REVISION:16,dom:c,addPanel:b,showPanel:d,begin:function(){e=(performance||Date).now()},end:function(){h++;var a=(performance||Date).now();if(j.update(a-e,200),a>g+1e3&&(i.update(1e3*h/(a-g),100),g=a,h=0,k)){var b=performance.memory;k.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return a},update:function(){e=this.end()},domElement:c,setMode:d}};return a.Panel=function(k,l,d){var p=1/0,q=0,m=Math.round,b=m(window.devicePixelRatio||1),e=80*b,f=48*b,n=3*b,o=2*b,g=3*b,h=15*b,i=74*b,j=30*b,c=document.createElement("canvas");c.width=e,c.height=f,c.style.cssText="width:80px;height:48px";var a=c.getContext("2d");return a.font="bold "+9*b+"px Helvetica,Arial,sans-serif",a.textBaseline="top",a.fillStyle=d,a.fillRect(0,0,e,f),a.fillStyle=l,a.fillText(k,n,o),a.fillRect(g,h,i,j),a.fillStyle=d,a.globalAlpha=.9,a.fillRect(g,h,i,j),{dom:c,update:function(f,r){p=Math.min(p,f),q=Math.max(q,f),a.fillStyle=d,a.globalAlpha=1,a.fillRect(0,0,e,h),a.fillStyle=l,a.fillText(m(f)+" "+k+" ("+m(p)+"-"+m(q)+")",n,o),a.drawImage(c,g+b,h,i-b,j,g,h,i-b,j),a.fillRect(g+i-b,h,b,j),a.fillStyle=d,a.globalAlpha=.9,a.fillRect(g+i-b,h,b,m((1-f/r)*j))}}},a})},9240:function(p,g,c){"use strict";c.d(g,{xv:function(){return ah}});var d=c(9477);function e(){var d,f=0,g=[],h=0,i=0,a=o(function(a){i||j(1,a)}),b=o(function(a){i||j(-1,a)});function j(b,a){i++;var g=0;try{a===c&&p();var e=b>0&&n(a);e?e.call(a,o(function(a){g++,j(1,a)}),o(function(a){g++,j(-1,a)})):(f=b,d=a,k())}catch(h){f||g||j(-1,h)}}function k(){h||(setTimeout(l,0),h=1)}function l(){var a=g;h=0,g=[],a.forEach(m)}function m(a){a()}function n(a){var b=a&&(q(a)||"object"==typeof a)&&a.then;return q(b)&&b}function o(a){var b=0;return function(){for(var d=[],c=arguments.length;c--;)d[c]=arguments[c];b++ ||a.apply(this,d)}}function p(){throw TypeError("Chaining cycle detected")}var q=function(a){return"function"==typeof a},c={then:function(b,c){var a=e();return g.push(function(){var g=f>0?b:c;if(q(g))try{var e=g(d);e===a&&p();var h=n(e);h?h.call(e,a.resolve,a.reject):a.resolve(e)}catch(i){a.reject(i)}else a[f>0?"resolve":"reject"](d)}),f&&k(),a},resolve:a,reject:b};return c}function f(){var b,c,a=new Promise(function(a,d){b=a,c=d});return{then:a.then.bind(a),resolve:b,reject:c}}c(4155),e.all=f.all=function(a){var c=0,d=[],b=h();return 0===a.length?b.resolve([]):a.forEach(function(f,g){var e=h();e.resolve(f),e.then(function(e){c++,d[g]=e,c===a.length&&b.resolve(d)},b.reject)}),b};var h="function"==typeof Promise?f:e;function q(){var a=Object.create(null);function b(f,k){var i=f.id,l=f.name,g=f.dependencies;void 0===g&&(g=[]);var d=f.init;void 0===d&&(d=function(){});var e=f.getTransferables;if(void 0===e&&(e=null),!a[i])try{g=g.map(function(c){return c&&c.isWorkerModule&&(b(c,function(a){if(a instanceof Error)throw a}),c=a[c.id].value),c}),d=c("<"+l+">.init",d),e&&(e=c("<"+l+">.getTransferables",e));var j=null;"function"==typeof d?j=d.apply(void 0,g):console.error("worker module init function failed to rehydrate"),a[i]={id:i,value:j,getTransferables:e},k(j)}catch(h){h&&h.noLog||console.error(h),k(h)}}function c(b,c){var d=void 0;self.troikaDefine=function(a){return d=a};var a=URL.createObjectURL(new Blob(["/** "+b.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+c+"\n)"],{type:"application/javascript"}));try{importScripts(a)}catch(e){console.error(e)}return URL.revokeObjectURL(a),delete self.troikaDefine,d}self.addEventListener("message",function(f){var c=f.data,g=c.messageId,d=c.action,e=c.data;try{"registerModule"===d&&b(e,function(a){a instanceof Error?postMessage({messageId:g,success:!1,error:a.message}):postMessage({messageId:g,success:!0,result:{isCallable:"function"==typeof a}})}),"callModule"===d&&function(d,e){var f,b=d.id,g=d.args;a[b]&&"function"==typeof a[b].value||e(Error("Worker module "+b+": not found or its 'init' did not return a function"));try{var c=(f=a[b]).value.apply(f,g);c&&"function"==typeof c.then?c.then(i,function(a){return e(a instanceof Error?a:Error(""+a))}):i(c)}catch(h){e(h)}function i(d){try{var c=a[b].getTransferables&&a[b].getTransferables(d);c&&Array.isArray(c)&&c.length||(c=void 0),e(d,c)}catch(f){console.error(f),e(f)}}}(e,function(a,b){a instanceof Error?postMessage({messageId:g,success:!1,error:a.message}):postMessage({messageId:g,success:!0,result:a},b||void 0)})}catch(h){postMessage({messageId:g,success:!1,error:h.stack})}})}var r=function(){var a=!1;if("undefined"!=typeof window&& void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),a=!0}catch(b){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+b.message+"]")}return r=function(){return a},a},s=0,t=0,u=!1,v=Object.create(null),w=Object.create(null),x=Object.create(null);function b(a){if((!a||"function"!=typeof a.init)&&!u)throw Error("requires `options.init` function");var j,d,c=a.dependencies,k=a.init,e=a.getTransferables,f=a.workerId;if(!r())return j=a,(d=function(){for(var b=[],a=arguments.length;a--;)b[a]=arguments[a];return d._getInitResult().then(function(a){if("function"==typeof a)return a.apply(void 0,b);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var a=j.dependencies,c=j.init;a=Array.isArray(a)?a.map(function(a){return a&&a._getInitResult?a._getInitResult():a}):[];var b=h.all(a).then(function(a){return c.apply(null,a)});return d._getInitResult=function(){return b},b},d;null==f&&(f="#default");var g="workerModule"+ ++s,l=a.name||g,m=null;function i(){for(var b=[],a=arguments.length;a--;)b[a]=arguments[a];if(!m){m=z(f,"registerModule",i.workerModuleData);var c=function(){m=null,w[f].delete(c)};(w[f]||(w[f]=new Set)).add(c)}return m.then(function(a){if(a.isCallable)return z(f,"callModule",{id:g,args:b});throw Error("Worker module function was called but `init` did not return a callable function")})}return c=c&&c.map(function(a){return"function"!=typeof a||a.workerModuleData||(u=!0,a=b({workerId:f,name:"<"+l+"> function dependency: "+a.name,init:"function(){return (\n"+y(a)+"\n)}"}),u=!1),a&&a.workerModuleData&&(a=a.workerModuleData),a}),i.workerModuleData={isWorkerModule:!0,id:g,name:l,dependencies:c,init:y(k),getTransferables:e&&y(e)},i}function y(b){var a=b.toString();return!/^function/.test(a)&&/^\w+\s*\(/.test(a)&&(a="function "+a),a}function z(b,c,d){var e=h(),a=++t;return x[a]=function(a){a.success?e.resolve(a.result):e.reject(Error("Error in worker "+c+" call: "+a.error))},(function(a){var b=v[a];if(!b){var c=y(q);(b=v[a]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+a.replace(/\*/g,"")+" **/\n\n;("+c+")()"],{type:"application/javascript"})))).onmessage=function(d){var a=d.data,b=a.messageId,c=x[b];if(!c)throw Error("WorkerModule response with empty or unknown messageId");delete x[b],c(a)}}return b})(b).postMessage({messageId:a,action:c,data:d}),e}var i=b({name:"Thenable",dependencies:[h],init:function(a){return a}});function j(){return function(a){function p(d,e,f,g,h,i,a,c){var b=1-a;c.x=b*b*d+2*b*a*f+a*a*h,c.y=b*b*e+2*b*a*g+a*a*i}function q(d,e,f,g,h,i,j,k,a,c){var b=1-a;c.x=b*b*b*d+3*b*b*a*f+3*b*a*a*h+a*a*a*j,c.y=b*b*b*e+3*b*b*a*g+3*b*a*a*i+a*a*a*k}function b(h,d){for(var e,f,g,b,c,i=/([MLQCZ])([^MLQCZ]*)/g;e=i.exec(h);){var a=e[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(a){return parseFloat(a)});switch(e[1]){case"M":b=f=a[0],c=g=a[1];break;case"L":(a[0]!==b||a[1]!==c)&&d("L",b,c,b=a[0],c=a[1]);break;case"Q":d("Q",b,c,b=a[2],c=a[3],a[0],a[1]);break;case"C":d("C",b,c,b=a[4],c=a[5],a[0],a[1],a[2],a[3]);break;case"Z":(b!==f||c!==g)&&d("L",b,c,f,g)}}}function c(c,d,a){void 0===a&&(a=16);var e={x:0,y:0};b(c,function(r,b,c,f,g,j,k,s,t){switch(r){case"L":d(b,c,f,g);break;case"Q":for(var l=b,m=c,h=1;h<a;h++)p(b,c,j,k,f,g,h/(a-1),e),d(l,m,e.x,e.y),l=e.x,m=e.y;break;case"C":for(var n=b,o=c,i=1;i<a;i++)q(b,c,j,k,s,t,f,g,i/(a-1),e),d(n,o,e.x,e.y),n=e.x,o=e.y}})}var r="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s=new WeakMap,t={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(b,d){var a=b.getContext?b.getContext("webgl",t):b,c=s.get(a);if(!c){var e="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext,h={},i={},j={},k=-1,l=[];function f(b){var c=h[b];if(!c&&!(c=h[b]=a.getExtension(b)))throw Error(b+" not supported");return c}function m(c,d){var b=a.createShader(d);return a.shaderSource(b,c),a.compileShader(b),b}function g(){h={},i={},j={},k=-1,l.length=0}a.canvas.addEventListener("webglcontextlost",function(a){g(),a.preventDefault()},!1),s.set(a,c={gl:a,isWebGL2:e,getExtension:f,withProgram:function(c,d,g,h){if(!i[c]){var j={},k={},b=a.createProgram();a.attachShader(b,m(d,a.VERTEX_SHADER)),a.attachShader(b,m(g,a.FRAGMENT_SHADER)),a.linkProgram(b),i[c]={program:b,transaction:function(c){a.useProgram(b),c({setUniform:function(f,c){for(var e=[],d=arguments.length-2;d-- >0;)e[d]=arguments[d+2];var g=k[c]||(k[c]=a.getUniformLocation(b,c));a["uniform"+f].apply(a,[g].concat(e))},setAttribute:function(d,i,k,h,g){var c=j[d];c||(c=j[d]={buf:a.createBuffer(),loc:a.getAttribLocation(b,d),data:null}),a.bindBuffer(a.ARRAY_BUFFER,c.buf),a.vertexAttribPointer(c.loc,i,a.FLOAT,!1,0,0),a.enableVertexAttribArray(c.loc),e?a.vertexAttribDivisor(c.loc,h):f("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c.loc,h),g!==c.data&&(a.bufferData(a.ARRAY_BUFFER,g,k),c.data=g)}})}}}i[c].transaction(h)},withTexture:function(c,d){k++;try{a.activeTexture(a.TEXTURE0+k);var b=j[c];b||(b=j[c]=a.createTexture(),a.bindTexture(a.TEXTURE_2D,b),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)),a.bindTexture(a.TEXTURE_2D,b),d(b,k)}finally{k--}},withTextureFramebuffer:function(c,d,e){var b=a.createFramebuffer();l.push(b),a.bindFramebuffer(a.FRAMEBUFFER,b),a.activeTexture(a.TEXTURE0+d),a.bindTexture(a.TEXTURE_2D,c),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0);try{e(b)}finally{a.deleteFramebuffer(b),a.bindFramebuffer(a.FRAMEBUFFER,l[--l.length-1]||null)}},handleContextLoss:g})}d(c)}function e(c,e,f,g,h,i,a,b){void 0===a&&(a=15),void 0===b&&(b=null),d(c,function(c){var d=c.gl,j=c.withProgram;(0,c.withTexture)("copy",function(c,k){d.texImage2D(d.TEXTURE_2D,0,d.RGBA,h,i,0,d.RGBA,d.UNSIGNED_BYTE,e),j("copy",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(c){var e=c.setUniform,j=c.setAttribute;j("aUV",2,d.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),e("1i","image",k),d.bindFramebuffer(d.FRAMEBUFFER,b||null),d.disable(d.BLEND),d.colorMask(8&a,4&a,2&a,1&a),d.viewport(f,g,h,i),d.scissor(f,g,h,i),d.drawArrays(d.TRIANGLES,0,3)})})})}var f=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:e,resizeWebGLCanvasWithoutClearing:function(a,b,c){var f=a.width,g=a.height;d(a,function(i){var d=i.gl,h=new Uint8Array(f*g*4);d.readPixels(0,0,f,g,d.RGBA,d.UNSIGNED_BYTE,h),a.width=b,a.height=c,e(d,h,0,0,f,g)})}});function g(d,g,k,a,l,h){void 0===h&&(h=1);var i=new Uint8Array(d*g),m=a[2]-a[0],n=a[3]-a[1],o=[];c(k,function(a,b,c,d){o.push({x1:a,y1:b,x2:c,y2:d,minX:Math.min(a,c),minY:Math.min(b,d),maxX:Math.max(a,c),maxY:Math.max(b,d)})}),o.sort(function(a,b){return a.maxX-b.maxX});for(var e=0;e<d;e++)for(var f=0;f<g;f++){var j=p(a[0]+m*(e+.5)/d,a[1]+n*(f+.5)/g),b=Math.pow(1-Math.abs(j)/l,h)/2;j<0&&(b=1-b),b=Math.max(0,Math.min(255,Math.round(255*b))),i[f*d+e]=b}return i;function p(c,d){for(var e=1/0,a=1/0,f=o.length;f--;){var b=o[f];if(b.maxX+a<=c)break;if(c+a>b.minX&&d-a<b.maxY&&d+a>b.minY){var g=u(c,d,b.x1,b.y1,b.x2,b.y2);g<e&&(a=Math.sqrt(e=g))}}return q(c,d)&&(a=-a),a}function q(c,b){for(var d=0,e=o.length;e--;){var a=o[e];if(a.maxX<=c)break;a.y1>b!=a.y2>b&&c<(a.x2-a.x1)*(b-a.y1)/(a.y2-a.y1)+a.x1&&(d+=a.y1<a.y2?1:-1)}return 0!==d}}function h(e,f,g,h,j,a,k,b,c,d){void 0===a&&(a=1),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),i(e,f,g,h,j,a,k,null,b,c,d)}function i(i,j,l,m,n,c,o,p,d,f,a){void 0===c&&(c=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===a&&(a=0);for(var h=g(i,j,l,m,n,c),k=new Uint8Array(4*h.length),b=0;b<h.length;b++)k[4*b+a]=h[b];e(o,k,d,f,i,j,1<<3-a,p)}function u(e,f,c,d,k,l){var a=k-c,b=l-d,g=a*a+b*b,h=g?Math.max(0,Math.min(1,((e-c)*a+(f-d)*b)/g)):0,i=e-(c+h*a),j=f-(d+h*b);return i*i+j*j}var j=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:h,generateIntoFramebuffer:i}),v=new Float32Array([0,0,2,0,0,2]),w=null,x=!1,y={},z=new WeakMap;function A(a){if(!x&&!n(a))throw Error("WebGL generation not supported")}function k(c,e,k,l,n,f,a){if(void 0===f&&(f=1),void 0===a&&(a=null),!a&&!(a=w)){var g="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!g)throw Error("OffscreenCanvas or DOM canvas not supported");a=w=g.getContext("webgl",{depth:!1})}A(a);var h=new Uint8Array(c*e*4);d(a,function(a){var d=a.gl,b=a.withTexture,g=a.withTextureFramebuffer;b("readable",function(a,b){d.texImage2D(d.TEXTURE_2D,0,d.RGBA,c,e,0,d.RGBA,d.UNSIGNED_BYTE,null),g(a,b,function(a){m(c,e,k,l,n,f,d,a,0,0,0),d.readPixels(0,0,c,e,d.RGBA,d.UNSIGNED_BYTE,h)})})});for(var i=new Uint8Array(c*e),b=0,j=0;b<h.length;b+=4)i[j++]=h[b];return i}function l(e,f,g,h,i,a,j,b,c,d){void 0===a&&(a=1),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),m(e,f,g,h,i,a,j,null,b,c,d)}function m(j,k,i,l,m,a,b,n,e,f,g){void 0===a&&(a=1),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),A(b);var h=[];c(i,function(a,b,c,d){h.push(a,b,c,d)}),h=new Float32Array(h),d(b,function(b){var c=b.gl,o=b.isWebGL2,p=b.getExtension,q=b.withProgram,d=b.withTexture,s=b.withTextureFramebuffer,i=b.handleContextLoss;if(d("rawDistances",function(b,d){(j!==b._lastWidth||k!==b._lastHeight)&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,b._lastWidth=j,b._lastHeight=k,0,c.RGBA,c.UNSIGNED_BYTE,null),q("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(f){var g=f.setAttribute,e=f.setUniform,i=!o&&p("ANGLE_instanced_arrays"),n=!o&&p("EXT_blend_minmax");g("aUV",2,c.STATIC_DRAW,0,v),g("aLineSegment",4,c.DYNAMIC_DRAW,1,h),e.apply(void 0,["4f","uGlyphBounds"].concat(l)),e("1f","uMaxDistance",m),e("1f","uExponent",a),s(b,d,function(a){c.enable(c.BLEND),c.colorMask(!0,!0,!0,!0),c.viewport(0,0,j,k),c.scissor(0,0,j,k),c.blendFunc(c.ONE,c.ONE),c.blendEquationSeparate(c.FUNC_ADD,o?c.MAX:n.MAX_EXT),c.clear(c.COLOR_BUFFER_BIT),o?c.drawArraysInstanced(c.TRIANGLES,0,3,h.length/4):i.drawArraysInstancedANGLE(c.TRIANGLES,0,3,h.length/4)})}),q("post",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(a){a.setAttribute("aUV",2,c.STATIC_DRAW,0,v),a.setUniform("1i","tex",d),c.bindFramebuffer(c.FRAMEBUFFER,n),c.disable(c.BLEND),c.colorMask(0===g,1===g,2===g,3===g),c.viewport(e,f,j,k),c.scissor(e,f,j,k),c.drawArrays(c.TRIANGLES,0,3)})}),c.isContextLost())throw i(),Error("webgl context lost")})}function n(a){var e=a&&a!==w?a.canvas||a:y,b=z.get(e);if(void 0===b){x=!0;var c=null;try{var f=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],d=k(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,a);(b=d&&f.length===d.length&&d.every(function(a,b){return a===f[b]}))||(c="bad trial run results",console.info(f,d))}catch(g){b=!1,c=g.message}c&&console.warn("WebGL SDF generation not supported:",c),x=!1,z.set(e,b)}return b}var o=Object.freeze({__proto__:null,generate:k,generateIntoCanvas:l,generateIntoFramebuffer:m,isSupported:n});return a.forEachPathCommand=b,a.generate=function(e,f,h,a,b,c){void 0===b&&(b=Math.max(a[2]-a[0],a[3]-a[1])/2),void 0===c&&(c=1);try{return k.apply(o,arguments)}catch(d){return console.info("WebGL SDF generation failed, falling back to JS",d),g.apply(j,arguments)}},a.generateIntoCanvas=function(i,k,m,a,b,c,n,d,e,f){void 0===b&&(b=Math.max(a[2]-a[0],a[3]-a[1])/2),void 0===c&&(c=1),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0);try{return l.apply(o,arguments)}catch(g){return console.info("WebGL SDF generation failed, falling back to JS",g),h.apply(j,arguments)}},a.javascript=j,a.pathToLineSegments=c,a.webgl=o,a.webglUtils=f,Object.defineProperty(a,"__esModule",{value:!0}),a}({})}let A=/\bvoid\s+main\s*\(\s*\)\s*{/g;function B(a){return a.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(b,c){let a=d.WdD[c];return a?B(a):b})}let k=[];for(let a=0;a<256;a++)k[a]=(a<16?"0":"")+a.toString(16);let C=Object.assign||function(){let d=arguments[0];for(let b=1,e=arguments.length;b<e;b++){let a=arguments[b];if(a)for(let c in a)a.hasOwnProperty(c)&&(d[c]=a[c])}return d},D=Date.now(),E=new WeakMap,F=new Map,G=1e10;function H(e,f){let b=N(f),a=E.get(e);if(a||E.set(e,a=Object.create(null)),a[b])return new a[b];let g=`_onBeforeCompile${b}`,h=function(a){e.onBeforeCompile.call(this,a);let d=this.customProgramCacheKey()+"|"+a.vertexShader+"|"+a.fragmentShader,c=F[d];if(!c){let h=I(a,f,b);c=F[d]=h}a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,C(a.uniforms,this.uniforms),f.timeUniform&&(a.uniforms[f.timeUniform]={get value(){return Date.now()-D}}),this[g]&&this[g](a)},c=function(){return i(f.chained?e:e.clone())},i=function(c){let a=Object.create(c,j);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:G++}),a.uuid=function(){let a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=k[255&a]+k[a>>8&255]+k[a>>16&255]+k[a>>24&255]+"-"+k[255&b]+k[b>>8&255]+"-"+k[b>>16&15|64]+k[b>>24&255]+"-"+k[63&c|128]+k[c>>8&255]+"-"+k[c>>16&255]+k[c>>24&255]+k[255&d]+k[d>>8&255]+k[d>>16&255]+k[d>>24&255];return e.toUpperCase()}(),a.uniforms=C({},c.uniforms,f.uniforms),a.defines=C({},c.defines,f.defines),a.defines[`TROIKA_DERIVED_MATERIAL_${b}`]="",a.extensions=C({},c.extensions,f.extensions),a._listeners=void 0,a},j={constructor:{value:c},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+b}},onBeforeCompile:{get:()=>h,set(a){this[g]=a}},copy:{writable:!0,configurable:!0,value:function(a){return e.copy.call(this,a),e.isShaderMaterial||e.isDerivedMaterial||(C(this.extensions,a.extensions),C(this.defines,a.defines),C(this.uniforms,d.rDY.clone(a.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let a=new e.constructor;return i(a).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let a=this._depthMaterial;return a||((a=this._depthMaterial=H(e.isDerivedMaterial?e.getDepthMaterial():new d.lRF({depthPacking:d.mSO}),f)).defines.IS_DEPTH_MATERIAL="",a.uniforms=this.uniforms),a}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let a=this._distanceMaterial;return a||((a=this._distanceMaterial=H(e.isDerivedMaterial?e.getDistanceMaterial():new d.Lun,f)).defines.IS_DISTANCE_MATERIAL="",a.uniforms=this.uniforms),a}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:a,_distanceMaterial:b}=this;a&&a.dispose(),b&&b.dispose(),e.dispose.call(this)}}};return a[b]=c,new c}function I({vertexShader:b,fragmentShader:c},p,a){let{vertexDefs:d,vertexMainIntro:e,vertexMainOutro:i,vertexTransform:j,fragmentDefs:f,fragmentMainIntro:k,fragmentMainOutro:g,fragmentColorTransform:l,customRewriter:h,timeUniform:m}=p;if(d=d||"",e=e||"",i=i||"",f=f||"",k=k||"",g=g||"",(j||h)&&(b=B(b)),(l||h)&&(c=B(c=c.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),h){let n=h({vertexShader:b,fragmentShader:c});b=n.vertexShader,c=n.fragmentShader}if(l){let q=[];c=c.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,a=>(q.push(a),"")),g=`${l}
${q.join("\n")}
${g}`}if(m){let o=`
uniform float ${m};
`;d=o+d,f=o+f}return j&&(b=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${b}
`,d=`${d}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${j}
}
`,e=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${e}
`,b=b.replace(/\b(position|normal|uv)\b/g,(e,b,c,d)=>/\battribute\s+vec[23]\s+$/.test(d.substr(0,c))?b:`troika_${b}_${a}`)),b=J(b,a,d,e,i),c=J(c,a,f,k,g),{vertexShader:b,fragmentShader:c}}function J(a,b,c,d,e){return(d||e||c)&&(a=a.replace(A,`
${c}
void troikaOrigMain${b}() {`),a+=`
void main() {
  ${d}
  troikaOrigMain${b}();
  ${e}
}`),a}function K(b,a){return"uniforms"===b?void 0:"function"==typeof a?a.toString():a}let L=0,M=new Map;function N(c){let b=JSON.stringify(c,K),a=M.get(b);return null==a&&M.set(b,a=++L),a}d.ehD;let O=()=>(self.performance||Date).now(),l=j(),P,Q=function(){let a=[],b=0;function c(){let d=O();for(;a.length&&O()-d<5;)a.shift()();b=a.length?setTimeout(c,0):0}return(...e)=>{let d=h();return a.push(()=>{let a=O();try{l.webgl.generateIntoCanvas(...e),d.resolve({timing:O()-a})}catch(b){d.reject(b)}}),b||(b=setTimeout(c,0)),d}}(),R=function(){let a={},c=0;return function(f,g,h,i,k,m,n,o,p,q){let e="TroikaTextSDFGenerator_JS_"+(c++)%4,d=a[e];return d||(d=a[e]={workerModule:b({name:e,workerId:e,dependencies:[j,O],init(a,b){let c=a().javascript.generate;return function(...a){let d=b(),e=c(...a);return{textureData:e,timing:b()-d}}},getTransferables:a=>[a.textureData.buffer]}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(f,g,h,i,k,m).then(({textureData:b,timing:c})=>{let i=O(),h=new Uint8Array(4*b.length);for(let a=0;a<b.length;a++)h[4*a+q]=b[a];return l.webglUtils.renderImageData(n,h,o,p,f,g,1<<3-q),c+=O()-i,0== --d.requests&&(d.idleTimer=setTimeout(()=>{var a;w[a=e]&&w[a].forEach(function(a){a()}),v[a]&&(v[a].terminate(),delete v[a])},2e3)),{timing:c}})}}(),S=l.webglUtils.resizeWebGLCanvasWithoutClearing,m=b({name:"Typr Font Parser",dependencies:[/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/ function(){var b,a,c;return"undefined"==typeof window&&(self.window=self),(b={},(a={parse:function(g){var d=a._bin,c=new Uint8Array(g);if("ttcf"==d.readASCII(c,0,4)){var b=4;d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2;var h=d.readUint(c,b);b+=4;for(var e=[],f=0;f<h;f++){var i=d.readUint(c,b);b+=4,e.push(a._readFont(c,i))}return e}return[a._readFont(c,0)]},_readFont:function(c,b){var d=a._bin,j=b;d.readFixed(c,b),b+=4;var k=d.readUshort(c,b);b+=2,d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2;for(var i=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],h={_data:c,_offset:j},g={},e=0;e<k;e++){var l=d.readASCII(c,b,4);b+=4,d.readUint(c,b),b+=4;var m=d.readUint(c,b);b+=4;var n=d.readUint(c,b);b+=4,g[l]={offset:m,length:n}}for(e=0;e<i.length;e++){var f=i[e];g[f]&&(h[f.trim()]=a[f.trim()].parse(c,g[f].offset,g[f].length,h))}return h},_tabOffset:function(c,g,e){for(var d=a._bin,h=d.readUshort(c,e+4),b=e+12,f=0;f<h;f++){var i=d.readASCII(c,b,4);b+=4,d.readUint(c,b),b+=4;var j=d.readUint(c,b);if(b+=4,d.readUint(c,b),b+=4,i==g)return j}return 0}})._bin={readFixed:function(a,b){return(a[b]<<8|a[b+1])+(a[b+2]<<8|a[b+3])/65540},readF2dot14:function(b,c){return a._bin.readShort(b,c)/16384},readInt:function(b,c){return a._bin._view(b).getInt32(c)},readInt8:function(b,c){return a._bin._view(b).getInt8(c)},readShort:function(b,c){return a._bin._view(b).getInt16(c)},readUshort:function(b,c){return a._bin._view(b).getUint16(c)},readUshorts:function(d,e,f){for(var c=[],b=0;b<f;b++)c.push(a._bin.readUshort(d,e+2*b));return c},readUint:function(b,c){return a._bin._view(b).getUint32(c)},readUint64:function(b,c){return 4294967296*a._bin.readUint(b,c)+a._bin.readUint(b,c+4)},readASCII:function(c,d,e){for(var b="",a=0;a<e;a++)b+=String.fromCharCode(c[d+a]);return b},readUnicode:function(a,b,e){for(var c="",d=0;d<e;d++)c+=String.fromCharCode(a[b++]<<8|a[b++]);return c},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(b,c,d){var e=a._bin._tdec;return e&&0==c&&d==b.length?e.decode(b):a._bin.readASCII(b,c,d)},readBytes:function(c,d,e){for(var b=[],a=0;a<e;a++)b.push(c[d+a]);return b},readASCIIArray:function(c,d,e){for(var b=[],a=0;a<e;a++)b.push(String.fromCharCode(c[d+a]));return b},_view:function(a){return a._dataView||(a._dataView=a.buffer?new DataView(a.buffer,a.byteOffset,a.byteLength):new DataView(new Uint8Array(a).buffer))}},a._lctf={},a._lctf.parse=function(c,b,k,l,g){var d=a._bin,e={},f=b;d.readFixed(c,b),b+=4;var h=d.readUshort(c,b);b+=2;var i=d.readUshort(c,b);b+=2;var j=d.readUshort(c,b);return b+=2,e.scriptList=a._lctf.readScriptList(c,f+h),e.featureList=a._lctf.readFeatureList(c,f+i),e.lookupList=a._lctf.readLookupList(c,f+j,g),e},a._lctf.readLookupList=function(c,b,g){var d=a._bin,h=b,e=[],i=d.readUshort(c,b);b+=2;for(var f=0;f<i;f++){var j=d.readUshort(c,b);b+=2;var k=a._lctf.readLookupTable(c,h+j,g);e.push(k)}return e},a._lctf.readLookupTable=function(d,b,g){var e=a._bin,h=b,c={tabs:[]};c.ltype=e.readUshort(d,b),b+=2,c.flag=e.readUshort(d,b),b+=2;var i=e.readUshort(d,b);b+=2;for(var j=c.ltype,f=0;f<i;f++){var k=e.readUshort(d,b);b+=2;var l=g(d,j,h+k,c);c.tabs.push(l)}return c},a._lctf.numOfOnes=function(c){for(var b=0,a=0;a<32;a++)0!=(c>>>a&1)&&b++;return b},a._lctf.readClassDef=function(c,b){var d=a._bin,e=[],g=d.readUshort(c,b);if(b+=2,1==g){var h=d.readUshort(c,b);b+=2;var i=d.readUshort(c,b);b+=2;for(var f=0;f<i;f++)e.push(h+f),e.push(h+f),e.push(d.readUshort(c,b)),b+=2}if(2==g){var j=d.readUshort(c,b);for(b+=2,f=0;f<j;f++)e.push(d.readUshort(c,b)),b+=2,e.push(d.readUshort(c,b)),b+=2,e.push(d.readUshort(c,b)),b+=2}return e},a._lctf.getInterval=function(b,c){for(var a=0;a<b.length;a+=3){var d=b[a],e=b[a+1];if(b[a+2],d<=c&&c<=e)return a}return -1},a._lctf.readCoverage=function(d,b){var e=a._bin,c={};c.fmt=e.readUshort(d,b),b+=2;var f=e.readUshort(d,b);return b+=2,1==c.fmt&&(c.tab=e.readUshorts(d,b,f)),2==c.fmt&&(c.tab=e.readUshorts(d,b,3*f)),c},a._lctf.coverageIndex=function(c,d){var b=c.tab;if(1==c.fmt)return b.indexOf(d);if(2==c.fmt){var e=a._lctf.getInterval(b,d);if(-1!=e)return b[e+2]+(d-b[e])}return -1},a._lctf.readFeatureList=function(c,b){var d=a._bin,h=b,e=[],i=d.readUshort(c,b);b+=2;for(var f=0;f<i;f++){var j=d.readASCII(c,b,4);b+=4;var k=d.readUshort(c,b);b+=2;var g=a._lctf.readFeatureTable(c,h+k);g.tag=j.trim(),e.push(g)}return e},a._lctf.readFeatureTable=function(d,b){var e=a._bin,h=b,c={},g=e.readUshort(d,b);b+=2,g>0&&(c.featureParams=h+g);var i=e.readUshort(d,b);b+=2,c.tab=[];for(var f=0;f<i;f++)c.tab.push(e.readUshort(d,b+2*f));return c},a._lctf.readScriptList=function(c,b){var d=a._bin,g=b,e={},h=d.readUshort(c,b);b+=2;for(var f=0;f<h;f++){var i=d.readASCII(c,b,4);b+=4;var j=d.readUshort(c,b);b+=2,e[i.trim()]=a._lctf.readScriptTable(c,g+j)}return e},a._lctf.readScriptTable=function(c,b){var d=a._bin,f=b,e={},h=d.readUshort(c,b);b+=2,e.default=a._lctf.readLangSysTable(c,f+h);var i=d.readUshort(c,b);b+=2;for(var g=0;g<i;g++){var j=d.readASCII(c,b,4);b+=4;var k=d.readUshort(c,b);b+=2,e[j.trim()]=a._lctf.readLangSysTable(c,f+k)}return e},a._lctf.readLangSysTable=function(c,b){var d=a._bin,e={};d.readUshort(c,b),b+=2,e.reqFeature=d.readUshort(c,b),b+=2;var f=d.readUshort(c,b);return b+=2,e.features=d.readUshorts(c,b,f),e},a.CFF={},a.CFF.parse=function(d,b,p){var j=a._bin;(d=new Uint8Array(d.buffer,b,p))[b=0],d[++b],d[++b],d[++b],b++;var g=[];b=a.CFF.readIndex(d,b,g);for(var q=[],c=0;c<g.length-1;c++)q.push(j.readASCII(d,b+g[c],g[c+1]-g[c]));b+=g[g.length-1];var h=[];b=a.CFF.readIndex(d,b,h);var l=[];for(c=0;c<h.length-1;c++)l.push(a.CFF.readDict(d,b+h[c],b+h[c+1]));b+=h[h.length-1];var e=l[0],f=[];b=a.CFF.readIndex(d,b,f);var k=[];for(c=0;c<f.length-1;c++)k.push(j.readASCII(d,b+f[c],f[c+1]-f[c]));if(b+=f[f.length-1],a.CFF.readSubrs(d,b,e),e.CharStrings){b=e.CharStrings,f=[],b=a.CFF.readIndex(d,b,f);var m=[];for(c=0;c<f.length-1;c++)m.push(j.readBytes(d,b+f[c],f[c+1]-f[c]));e.CharStrings=m}if(e.ROS){b=e.FDArray;var i=[];for(b=a.CFF.readIndex(d,b,i),e.FDArray=[],c=0;c<i.length-1;c++){var n=a.CFF.readDict(d,b+i[c],b+i[c+1]);a.CFF._readFDict(d,n,k),e.FDArray.push(n)}b+=i[i.length-1],b=e.FDSelect,e.FDSelect=[];var o=d[b];if(b++,3!=o)throw o;var r=j.readUshort(d,b);for(b+=2,c=0;c<r+1;c++)e.FDSelect.push(j.readUshort(d,b),d[b+2]),b+=3}return e.Encoding&&(e.Encoding=a.CFF.readEncoding(d,e.Encoding,e.CharStrings.length)),e.charset&&(e.charset=a.CFF.readCharset(d,e.charset,e.CharStrings.length)),a.CFF._readFDict(d,e,k),e},a.CFF._readFDict=function(e,b,f){var c;for(var d in b.Private&&(c=b.Private[1],b.Private=a.CFF.readDict(e,c,c+b.Private[0]),b.Private.Subrs&&a.CFF.readSubrs(e,c+b.Private.Subrs,b.Private)),b)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(d)&&(b[d]=f[b[d]-426+35])},a.CFF.readSubrs=function(f,d,e){var i=a._bin,b=[];d=a.CFF.readIndex(f,d,b);var g,h=b.length;g=h<1240?107:h<33900?1131:32768,e.Bias=g,e.Subrs=[];for(var c=0;c<b.length-1;c++)e.Subrs.push(i.readBytes(f,d+b[c],b[c+1]-b[c]))},a.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],a.CFF.glyphByUnicode=function(b,c){for(var a=0;a<b.charset.length;a++)if(b.charset[a]==c)return a;return -1},a.CFF.glyphBySE=function(c,b){return b<0||b>255?-1:a.CFF.glyphByUnicode(c,a.CFF.tableSE[b])},a.CFF.readEncoding=function(c,b,h){a._bin;var e=[".notdef"],f=c[b];if(b++,0!=f)throw"error: unknown encoding format: "+f;var g=c[b];b++;for(var d=0;d<g;d++)e.push(c[b+d]);return e},a.CFF.readCharset=function(c,b,j){var h=a._bin,f=[".notdef"],d=c[b];if(b++,0==d)for(var e=0;e<j;e++){var g=h.readUshort(c,b);b+=2,f.push(g)}else{if(1!=d&&2!=d)throw"error: format: "+d;for(;f.length<j;){g=h.readUshort(c,b),b+=2;var i=0;for(1==d?(i=c[b],b++):(i=h.readUshort(c,b),b+=2),e=0;e<=i;e++)f.push(g),g++}}return f},a.CFF.readIndex=function(e,c,g){var h=a._bin,d=h.readUshort(e,c)+1,f=e[c+=2];if(c++,1==f)for(var b=0;b<d;b++)g.push(e[c+b]);else if(2==f)for(b=0;b<d;b++)g.push(h.readUshort(e,c+2*b));else if(3==f)for(b=0;b<d;b++)g.push(16777215&h.readUint(e,c+3*b-1));else if(1!=d)throw"unsupported offset size: "+f+", count: "+d;return(c+=d*f)-1},a.CFF.getCharString=function(d,e,i){var j=a._bin,b=d[e],h=d[e+1];d[e+2],d[e+3],d[e+4];var c=1,g=null,f=null;b<=20&&(g=b,c=1),12==b&&(g=100*b+h,c=2),21<=b&&b<=27&&(g=b,c=1),28==b&&(f=j.readShort(d,e+1),c=3),29<=b&&b<=31&&(g=b,c=1),32<=b&&b<=246&&(f=b-139,c=1),247<=b&&b<=250&&(f=256*(b-247)+h+108,c=2),251<=b&&b<=254&&(f=-(256*(b-251))-h-108,c=2),255==b&&(f=j.readInt(d,e+1)/65535,c=5),i.val=null!=f?f:"o"+g,i.size=c},a.CFF.readCharString=function(e,d,k){for(var l=d+k,i=a._bin,j=[];d<l;){var b=e[d],h=e[d+1];e[d+2],e[d+3],e[d+4];var c=1,g=null,f=null;b<=20&&(g=b,c=1),12==b&&(g=100*b+h,c=2),19!=b&&20!=b||(g=b,c=2),21<=b&&b<=27&&(g=b,c=1),28==b&&(f=i.readShort(e,d+1),c=3),29<=b&&b<=31&&(g=b,c=1),32<=b&&b<=246&&(f=b-139,c=1),247<=b&&b<=250&&(f=256*(b-247)+h+108,c=2),251<=b&&b<=254&&(f=-(256*(b-251))-h-108,c=2),255==b&&(f=i.readInt(e,d+1)/65535,c=5),j.push(null!=f?f:"o"+g),d+=c}return j},a.CFF.readDict=function(e,d,r){for(var j=a._bin,n={},g=[];d<r;){var b=e[d],k=e[d+1];e[d+2],e[d+3],e[d+4];var c=1,h=null,f=null;if(28==b&&(f=j.readShort(e,d+1),c=3),29==b&&(f=j.readInt(e,d+1),c=5),32<=b&&b<=246&&(f=b-139,c=1),247<=b&&b<=250&&(f=256*(b-247)+k+108,c=2),251<=b&&b<=254&&(f=-(256*(b-251))-k-108,c=2),255==b)throw f=j.readInt(e,d+1)/65535,c=5,"unknown number";if(30==b){var i=[];for(c=1;;){var o=e[d+c];c++;var p=o>>4,l=15&o;if(15!=p&&i.push(p),15!=l&&i.push(l),15==l)break}for(var q="",s=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],m=0;m<i.length;m++)q+=s[i[m]];f=parseFloat(q)}b<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][b],c=1,12==b&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][k],c=2)),null!=h?(n[h]=1==g.length?g[0]:g,g=[]):g.push(f),d+=c}return n},a.cmap={},a.cmap.parse=function(b,c,o){b=new Uint8Array(b.buffer,c,o),c=0;var e=a._bin,f={};e.readUshort(b,c),c+=2;var p=e.readUshort(b,c);c+=2;var j=[];f.tables=[];for(var k=0;k<p;k++){var l=e.readUshort(b,c);c+=2;var m=e.readUshort(b,c);c+=2;var d=e.readUint(b,c);c+=4;var n="p"+l+"e"+m,i=j.indexOf(d);if(-1==i){i=f.tables.length,j.push(d);var g,h=e.readUshort(b,d);0==h?g=a.cmap.parse0(b,d):4==h?g=a.cmap.parse4(b,d):6==h?g=a.cmap.parse6(b,d):12==h?g=a.cmap.parse12(b,d):console.debug("unknown format: "+h,l,m,d),f.tables.push(g)}if(null!=f[n])throw"multiple tables for one platform+encoding";f[n]=i}return f},a.cmap.parse0=function(c,b){var e=a._bin,d={};d.format=e.readUshort(c,b),b+=2;var g=e.readUshort(c,b);b+=2,e.readUshort(c,b),b+=2,d.map=[];for(var f=0;f<g-6;f++)d.map.push(c[b+f]);return d},a.cmap.parse4=function(c,b){var d=a._bin,h=b,e={};e.format=d.readUshort(c,b),b+=2;var i=d.readUshort(c,b);b+=2,d.readUshort(c,b),b+=2;var j=d.readUshort(c,b);b+=2;var f=j/2;e.searchRange=d.readUshort(c,b),b+=2,e.entrySelector=d.readUshort(c,b),b+=2,e.rangeShift=d.readUshort(c,b),b+=2,e.endCount=d.readUshorts(c,b,f),b+=2*f,b+=2,e.startCount=d.readUshorts(c,b,f),b+=2*f,e.idDelta=[];for(var g=0;g<f;g++)e.idDelta.push(d.readShort(c,b)),b+=2;for(e.idRangeOffset=d.readUshorts(c,b,f),b+=2*f,e.glyphIdArray=[];b<h+i;)e.glyphIdArray.push(d.readUshort(c,b)),b+=2;return e},a.cmap.parse6=function(c,b){var d=a._bin,e={};e.format=d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2,e.firstCode=d.readUshort(c,b),b+=2;var g=d.readUshort(c,b);b+=2,e.glyphIdArray=[];for(var f=0;f<g;f++)e.glyphIdArray.push(d.readUshort(c,b)),b+=2;return e},a.cmap.parse12=function(c,b){var d=a._bin,e={};e.format=d.readUshort(c,b),b+=2,b+=2,d.readUint(c,b),b+=4,d.readUint(c,b),b+=4;var h=d.readUint(c,b);b+=4,e.groups=[];for(var f=0;f<h;f++){var g=b+12*f,i=d.readUint(c,g+0),j=d.readUint(c,g+4),k=d.readUint(c,g+8);e.groups.push([i,j,k])}return e},a.glyf={},a.glyf.parse=function(d,e,f,c){for(var a=[],b=0;b<c.maxp.numGlyphs;b++)a.push(null);return a},a.glyf._parseGlyf=function(i,l){var h,f=a._bin,d=i._data,b=a._tabOffset(d,"glyf",i._offset)+i.loca[l];if(i.loca[l]==i.loca[l+1])return null;var c={};if(c.noc=f.readShort(d,b),b+=2,c.xMin=f.readShort(d,b),b+=2,c.yMin=f.readShort(d,b),b+=2,c.xMax=f.readShort(d,b),b+=2,c.yMax=f.readShort(d,b),b+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var e=0;e<c.noc;e++)c.endPts.push(f.readUshort(d,b)),b+=2;var m=f.readUshort(d,b);if(b+=2,d.length-b<m)return null;c.instructions=f.readBytes(d,b,m),b+=m;var k=c.endPts[c.noc-1]+1;for(e=0,c.flags=[];e<k;e++){var n=d[b];if(b++,c.flags.push(n),0!=(8&n)){var u=d[b];b++;for(var r=0;r<u;r++)c.flags.push(n),e++}}for(e=0,c.xs=[];e<k;e++){var o=0!=(2&c.flags[e]),j=0!=(16&c.flags[e]);o?(c.xs.push(j?d[b]:-d[b]),b++):j?c.xs.push(0):(c.xs.push(f.readShort(d,b)),b+=2)}for(e=0,c.ys=[];e<k;e++)o=0!=(4&c.flags[e]),j=0!=(32&c.flags[e]),o?(c.ys.push(j?d[b]:-d[b]),b++):j?c.ys.push(0):(c.ys.push(f.readShort(d,b)),b+=2);var s=0,t=0;for(e=0;e<k;e++)s+=c.xs[e],t+=c.ys[e],c.xs[e]=s,c.ys[e]=t}else{c.parts=[];do{h=f.readUshort(d,b),b+=2;var g={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(g),g.glyphIndex=f.readUshort(d,b),b+=2,1&h){var p=f.readShort(d,b);b+=2;var q=f.readShort(d,b);b+=2}else p=f.readInt8(d,b),b++,q=f.readInt8(d,b),b++;2&h?(g.m.tx=p,g.m.ty=q):(g.p1=p,g.p2=q),8&h?(g.m.a=g.m.d=f.readF2dot14(d,b),b+=2):64&h?(g.m.a=f.readF2dot14(d,b),b+=2,g.m.d=f.readF2dot14(d,b),b+=2):128&h&&(g.m.a=f.readF2dot14(d,b),b+=2,g.m.b=f.readF2dot14(d,b),b+=2,g.m.c=f.readF2dot14(d,b),b+=2,g.m.d=f.readF2dot14(d,b),b+=2)}while(32&h)if(256&h){var v=f.readUshort(d,b);for(b+=2,c.instr=[],e=0;e<v;e++)c.instr.push(d[b]),b++}}return c},a.GPOS={},a.GPOS.parse=function(b,c,d,e){return a._lctf.parse(b,c,d,e,a.GPOS.subt)},a.GPOS.subt=function(c,f,b,m){var e=a._bin,i=b,d={};if(d.fmt=e.readUshort(c,b),b+=2,1==f||2==f||3==f||7==f||8==f&&d.fmt<=2){var u=e.readUshort(c,b);b+=2,d.coverage=a._lctf.readCoverage(c,u+i)}if(1==f&&1==d.fmt){var g=e.readUshort(c,b);b+=2;var n=a._lctf.numOfOnes(g);0!=g&&(d.pos=a.GPOS.readValueRecord(c,b,g))}else if(2==f&&d.fmt>=1&&d.fmt<=2){g=e.readUshort(c,b),b+=2;var j=e.readUshort(c,b);b+=2,n=a._lctf.numOfOnes(g);var o=a._lctf.numOfOnes(j);if(1==d.fmt){d.pairsets=[];var v=e.readUshort(c,b);b+=2;for(var k=0;k<v;k++){var h=i+e.readUshort(c,b);b+=2;var w=e.readUshort(c,h);h+=2;for(var p=[],l=0;l<w;l++){var x=e.readUshort(c,h);h+=2,0!=g&&(r=a.GPOS.readValueRecord(c,h,g),h+=2*n),0!=j&&(s=a.GPOS.readValueRecord(c,h,j),h+=2*o),p.push({gid2:x,val1:r,val2:s})}d.pairsets.push(p)}}if(2==d.fmt){var y=e.readUshort(c,b);b+=2;var z=e.readUshort(c,b);b+=2;var A=e.readUshort(c,b);b+=2;var B=e.readUshort(c,b);for(b+=2,d.classDef1=a._lctf.readClassDef(c,i+y),d.classDef2=a._lctf.readClassDef(c,i+z),d.matrix=[],k=0;k<A;k++){var q=[];for(l=0;l<B;l++){var r=null,s=null;0!=g&&(r=a.GPOS.readValueRecord(c,b,g),b+=2*n),0!=j&&(s=a.GPOS.readValueRecord(c,b,j),b+=2*o),q.push({val1:r,val2:s})}d.matrix.push(q)}}}else{if(9==f&&1==d.fmt){var t=e.readUshort(c,b);b+=2;var C=e.readUint(c,b);if(b+=4,9==m.ltype)m.ltype=t;else if(m.ltype!=t)throw"invalid extension substitution";return a.GPOS.subt(c,m.ltype,i+C)}console.debug("unsupported GPOS table LookupType",f,"format",d.fmt)}return d},a.GPOS.readValueRecord=function(e,b,c){var f=a._bin,d=[];return d.push(1&c?f.readShort(e,b):0),b+=1&c?2:0,d.push(2&c?f.readShort(e,b):0),b+=2&c?2:0,d.push(4&c?f.readShort(e,b):0),b+=4&c?2:0,d.push(8&c?f.readShort(e,b):0),b+=8&c?2:0,d},a.GSUB={},a.GSUB.parse=function(b,c,d,e){return a._lctf.parse(b,c,d,e,a.GSUB.subt)},a.GSUB.subt=function(d,f,b,j){var e=a._bin,i=b,c={};if(c.fmt=e.readUshort(d,b),b+=2,1!=f&&4!=f&&5!=f&&6!=f)return null;if(1==f||4==f||5==f&&c.fmt<=2||6==f&&c.fmt<=2){var o=e.readUshort(d,b);b+=2,c.coverage=a._lctf.readCoverage(d,i+o)}if(1==f&&c.fmt>=1&&c.fmt<=2){if(1==c.fmt)c.delta=e.readShort(d,b),b+=2;else if(2==c.fmt){var h=e.readUshort(d,b);b+=2,c.newg=e.readUshorts(d,b,h),b+=2*c.newg.length}}else if(4==f){c.vals=[],h=e.readUshort(d,b),b+=2;for(var g=0;g<h;g++){var p=e.readUshort(d,b);b+=2,c.vals.push(a.GSUB.readLigatureSet(d,i+p))}}else if(5==f&&2==c.fmt){if(2==c.fmt){var q=e.readUshort(d,b);b+=2,c.cDef=a._lctf.readClassDef(d,i+q),c.scset=[];var r=e.readUshort(d,b);for(b+=2,g=0;g<r;g++){var m=e.readUshort(d,b);b+=2,c.scset.push(0==m?null:a.GSUB.readSubClassSet(d,i+m))}}}else if(6==f&&3==c.fmt){if(3==c.fmt){for(g=0;g<3;g++){h=e.readUshort(d,b),b+=2;for(var k=[],l=0;l<h;l++)k.push(a._lctf.readCoverage(d,i+e.readUshort(d,b+2*l)));b+=2*h,0==g&&(c.backCvg=k),1==g&&(c.inptCvg=k),2==g&&(c.ahedCvg=k)}h=e.readUshort(d,b),b+=2,c.lookupRec=a.GSUB.readSubstLookupRecords(d,b,h)}}else{if(7==f&&1==c.fmt){var n=e.readUshort(d,b);b+=2;var s=e.readUint(d,b);if(b+=4,9==j.ltype)j.ltype=n;else if(j.ltype!=n)throw"invalid extension substitution";return a.GSUB.subt(d,j.ltype,i+s)}console.debug("unsupported GSUB table LookupType",f,"format",c.fmt)}return c},a.GSUB.readSubClassSet=function(c,b){var d=a._bin.readUshort,g=b,e=[],h=d(c,b);b+=2;for(var f=0;f<h;f++){var i=d(c,b);b+=2,e.push(a.GSUB.readSubClassRule(c,g+i))}return e},a.GSUB.readSubClassRule=function(c,b){var e=a._bin.readUshort,d={},g=e(c,b),h=e(c,b+=2);b+=2,d.input=[];for(var f=0;f<g-1;f++)d.input.push(e(c,b)),b+=2;return d.substLookupRecords=a.GSUB.readSubstLookupRecords(c,b,h),d},a.GSUB.readSubstLookupRecords=function(c,b,g){for(var d=a._bin.readUshort,e=[],f=0;f<g;f++)e.push(d(c,b),d(c,b+2)),b+=4;return e},a.GSUB.readChainSubClassSet=function(c,b){var d=a._bin,g=b,e=[],h=d.readUshort(c,b);b+=2;for(var f=0;f<h;f++){var i=d.readUshort(c,b);b+=2,e.push(a.GSUB.readChainSubClassRule(c,g+i))}return e},a.GSUB.readChainSubClassRule=function(e,b){for(var f=a._bin,c={},h=["backtrack","input","lookahead"],d=0;d<h.length;d++){var g=f.readUshort(e,b);b+=2,1==d&&g--,c[h[d]]=f.readUshorts(e,b,g),b+=2*c[h[d]].length}return g=f.readUshort(e,b),b+=2,c.subst=f.readUshorts(e,b,2*g),b+=2*c.subst.length,c},a.GSUB.readLigatureSet=function(c,b){var d=a._bin,g=b,e=[],h=d.readUshort(c,b);b+=2;for(var f=0;f<h;f++){var i=d.readUshort(c,b);b+=2,e.push(a.GSUB.readLigature(c,g+i))}return e},a.GSUB.readLigature=function(c,b){var d=a._bin,e={chain:[]};e.nglyph=d.readUshort(c,b),b+=2;var g=d.readUshort(c,b);b+=2;for(var f=0;f<g-1;f++)e.chain.push(d.readUshort(c,b)),b+=2;return e},a.head={},a.head.parse=function(c,b,f){var d=a._bin,e={};return d.readFixed(c,b),b+=4,e.fontRevision=d.readFixed(c,b),b+=4,d.readUint(c,b),b+=4,d.readUint(c,b),b+=4,e.flags=d.readUshort(c,b),b+=2,e.unitsPerEm=d.readUshort(c,b),b+=2,e.created=d.readUint64(c,b),b+=8,e.modified=d.readUint64(c,b),b+=8,e.xMin=d.readShort(c,b),b+=2,e.yMin=d.readShort(c,b),b+=2,e.xMax=d.readShort(c,b),b+=2,e.yMax=d.readShort(c,b),b+=2,e.macStyle=d.readUshort(c,b),b+=2,e.lowestRecPPEM=d.readUshort(c,b),b+=2,e.fontDirectionHint=d.readShort(c,b),b+=2,e.indexToLocFormat=d.readShort(c,b),b+=2,e.glyphDataFormat=d.readShort(c,b),b+=2,e},a.hhea={},a.hhea.parse=function(c,b,f){var d=a._bin,e={};return d.readFixed(c,b),b+=4,e.ascender=d.readShort(c,b),b+=2,e.descender=d.readShort(c,b),b+=2,e.lineGap=d.readShort(c,b),b+=2,e.advanceWidthMax=d.readUshort(c,b),b+=2,e.minLeftSideBearing=d.readShort(c,b),b+=2,e.minRightSideBearing=d.readShort(c,b),b+=2,e.xMaxExtent=d.readShort(c,b),b+=2,e.caretSlopeRise=d.readShort(c,b),b+=2,e.caretSlopeRun=d.readShort(c,b),b+=2,e.caretOffset=d.readShort(c,b),b+=2,b+=8,e.metricDataFormat=d.readShort(c,b),b+=2,e.numberOfHMetrics=d.readUshort(c,b),b+=2,e},a.hmtx={},a.hmtx.parse=function(e,b,j,f){for(var g=a._bin,c={aWidth:[],lsBearing:[]},h=0,i=0,d=0;d<f.maxp.numGlyphs;d++)d<f.hhea.numberOfHMetrics&&(h=g.readUshort(e,b),b+=2,i=g.readShort(e,b),b+=2),c.aWidth.push(h),c.lsBearing.push(i);return c},a.kern={},a.kern.parse=function(c,b,e,i){var d=a._bin,j=d.readUshort(c,b);if(b+=2,1==j)return a.kern.parseV1(c,b-2,e,i);var k=d.readUshort(c,b);b+=2;for(var f={glyph1:[],rval:[]},g=0;g<k;g++){b+=2,e=d.readUshort(c,b),b+=2;var l=d.readUshort(c,b);b+=2;var h=l>>>8;if(0!=(h&=15))throw"unknown kern table format: "+h;b=a.kern.readFormat0(c,b,f)}return f},a.kern.parseV1=function(c,b,j,k){var d=a._bin;d.readFixed(c,b),b+=4;var h=d.readUint(c,b);b+=4;for(var e={glyph1:[],rval:[]},f=0;f<h;f++){d.readUint(c,b),b+=4;var i=d.readUshort(c,b);b+=2,d.readUshort(c,b),b+=2;var g=i>>>8;if(0!=(g&=15))throw"unknown kern table format: "+g;b=a.kern.readFormat0(c,b,e)}return e},a.kern.readFormat0=function(c,b,e){var d=a._bin,g=-1,j=d.readUshort(c,b);b+=2,d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2,d.readUshort(c,b),b+=2;for(var h=0;h<j;h++){var f=d.readUshort(c,b);b+=2;var k=d.readUshort(c,b);b+=2;var l=d.readShort(c,b);b+=2,f!=g&&(e.glyph1.push(f),e.rval.push({glyph2:[],vals:[]}));var i=e.rval[e.rval.length-1];i.glyph2.push(k),i.vals.push(l),g=f}return b},a.loca={},a.loca.parse=function(d,e,j,f){var g=a._bin,c=[],h=f.head.indexToLocFormat,i=f.maxp.numGlyphs+1;if(0==h)for(var b=0;b<i;b++)c.push(g.readUshort(d,e+(b<<1))<<1);if(1==h)for(b=0;b<i;b++)c.push(g.readUint(d,e+(b<<2)));return c},a.maxp={},a.maxp.parse=function(c,b,g){var d=a._bin,e={},f=d.readUint(c,b);return b+=4,e.numGlyphs=d.readUshort(c,b),b+=2,65536==f&&(e.maxPoints=d.readUshort(c,b),b+=2,e.maxContours=d.readUshort(c,b),b+=2,e.maxCompositePoints=d.readUshort(c,b),b+=2,e.maxCompositeContours=d.readUshort(c,b),b+=2,e.maxZones=d.readUshort(c,b),b+=2,e.maxTwilightPoints=d.readUshort(c,b),b+=2,e.maxStorage=d.readUshort(c,b),b+=2,e.maxFunctionDefs=d.readUshort(c,b),b+=2,e.maxInstructionDefs=d.readUshort(c,b),b+=2,e.maxStackElements=d.readUshort(c,b),b+=2,e.maxSizeOfInstructions=d.readUshort(c,b),b+=2,e.maxComponentElements=d.readUshort(c,b),b+=2,e.maxComponentDepth=d.readUshort(c,b),b+=2),e},a.name={},a.name.parse=function(e,c,v){var f=a._bin,b={};f.readUshort(e,c),c+=2;var n=f.readUshort(e,c);c+=2,f.readUshort(e,c);for(var m,s=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],t=c+=2,o=0;o<n;o++){var k=f.readUshort(e,c);c+=2;var h=f.readUshort(e,c);c+=2;var p=f.readUshort(e,c);c+=2;var q=f.readUshort(e,c);c+=2;var i=f.readUshort(e,c);c+=2;var u=f.readUshort(e,c);c+=2;var g,r=s[q],j=t+12*n+u;if(0==k)g=f.readUnicode(e,j,i/2);else if(3==k&&0==h)g=f.readUnicode(e,j,i/2);else if(0==h)g=f.readASCII(e,j,i);else if(1==h)g=f.readUnicode(e,j,i/2);else if(3==h)g=f.readUnicode(e,j,i/2);else{if(1!=k)throw"unknown encoding "+h+", platformID: "+k;g=f.readASCII(e,j,i),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var l="p"+k+","+p.toString(16);null==b[l]&&(b[l]={}),b[l][void 0!==r?r:q]=g,b[l]._lang=p}for(var d in b)if(null!=b[d].postScriptName&&1033==b[d]._lang)return b[d];for(var d in b)if(null!=b[d].postScriptName&&0==b[d]._lang)return b[d];for(var d in b)if(null!=b[d].postScriptName&&3084==b[d]._lang)return b[d];for(var d in b)if(null!=b[d].postScriptName)return b[d];for(var d in b){m=d;break}return console.debug("returning name table with languageID "+b[m]._lang),b[m]},a["OS/2"]={},a["OS/2"].parse=function(d,c,f){var b=a._bin.readUshort(d,c);c+=2;var e={};if(0==b)a["OS/2"].version0(d,c,e);else if(1==b)a["OS/2"].version1(d,c,e);else if(2==b||3==b||4==b)a["OS/2"].version2(d,c,e);else{if(5!=b)throw"unknown OS/2 table version: "+b;a["OS/2"].version5(d,c,e)}return e},a["OS/2"].version0=function(c,b,e){var d=a._bin;return e.xAvgCharWidth=d.readShort(c,b),b+=2,e.usWeightClass=d.readUshort(c,b),b+=2,e.usWidthClass=d.readUshort(c,b),b+=2,e.fsType=d.readUshort(c,b),b+=2,e.ySubscriptXSize=d.readShort(c,b),b+=2,e.ySubscriptYSize=d.readShort(c,b),b+=2,e.ySubscriptXOffset=d.readShort(c,b),b+=2,e.ySubscriptYOffset=d.readShort(c,b),b+=2,e.ySuperscriptXSize=d.readShort(c,b),b+=2,e.ySuperscriptYSize=d.readShort(c,b),b+=2,e.ySuperscriptXOffset=d.readShort(c,b),b+=2,e.ySuperscriptYOffset=d.readShort(c,b),b+=2,e.yStrikeoutSize=d.readShort(c,b),b+=2,e.yStrikeoutPosition=d.readShort(c,b),b+=2,e.sFamilyClass=d.readShort(c,b),b+=2,e.panose=d.readBytes(c,b,10),b+=10,e.ulUnicodeRange1=d.readUint(c,b),b+=4,e.ulUnicodeRange2=d.readUint(c,b),b+=4,e.ulUnicodeRange3=d.readUint(c,b),b+=4,e.ulUnicodeRange4=d.readUint(c,b),b+=4,e.achVendID=[d.readInt8(c,b),d.readInt8(c,b+1),d.readInt8(c,b+2),d.readInt8(c,b+3)],b+=4,e.fsSelection=d.readUshort(c,b),b+=2,e.usFirstCharIndex=d.readUshort(c,b),b+=2,e.usLastCharIndex=d.readUshort(c,b),b+=2,e.sTypoAscender=d.readShort(c,b),b+=2,e.sTypoDescender=d.readShort(c,b),b+=2,e.sTypoLineGap=d.readShort(c,b),b+=2,e.usWinAscent=d.readUshort(c,b),b+=2,e.usWinDescent=d.readUshort(c,b),b+=2},a["OS/2"].version1=function(c,b,d){var e=a._bin;return b=a["OS/2"].version0(c,b,d),d.ulCodePageRange1=e.readUint(c,b),b+=4,d.ulCodePageRange2=e.readUint(c,b),b+=4},a["OS/2"].version2=function(c,b,d){var e=a._bin;return b=a["OS/2"].version1(c,b,d),d.sxHeight=e.readShort(c,b),b+=2,d.sCapHeight=e.readShort(c,b),b+=2,d.usDefault=e.readUshort(c,b),b+=2,d.usBreak=e.readUshort(c,b),b+=2,d.usMaxContext=e.readUshort(c,b),b+=2},a["OS/2"].version5=function(c,b,d){var e=a._bin;return b=a["OS/2"].version2(c,b,d),d.usLowerOpticalPointSize=e.readUshort(c,b),b+=2,d.usUpperOpticalPointSize=e.readUshort(c,b),b+=2},a.post={},a.post.parse=function(d,b,f){var e=a._bin,c={};return c.version=e.readFixed(d,b),b+=4,c.italicAngle=e.readFixed(d,b),b+=4,c.underlinePosition=e.readShort(d,b),b+=2,c.underlineThickness=e.readShort(d,b),b+=2,c},null==a&&(a={}),null==a.U&&(a.U={}),a.U.codeToGlyph=function(h,b){var c=h.cmap,f=-1;if(null!=c.p0e4?f=c.p0e4:null!=c.p3e1?f=c.p3e1:null!=c.p1e0?f=c.p1e0:null!=c.p0e3&&(f=c.p0e3),-1==f)throw"no familiar platform and encoding!";var a=c.tables[f];if(0==a.format)return b>=a.map.length?0:a.map[b];if(4==a.format){for(var d=-1,e=0;e<a.endCount.length;e++)if(b<=a.endCount[e]){d=e;break}return -1==d||a.startCount[d]>b?0:65535&(0!=a.idRangeOffset[d]?a.glyphIdArray[b-a.startCount[d]+(a.idRangeOffset[d]>>1)-(a.idRangeOffset.length-d)]:b+a.idDelta[d])}if(12==a.format){if(b>a.groups[a.groups.length-1][1])return 0;for(e=0;e<a.groups.length;e++){var g=a.groups[e];if(g[0]<=b&&b<=g[1])return g[2]+(b-g[0])}return 0}throw"unknown cmap table format "+a.format},a.U.glyphToPath=function(b,c){var f={cmds:[],crds:[]};if(b.SVG&&b.SVG.entries[c]){var d=b.SVG.entries[c];return null==d?f:("string"==typeof d&&(d=a.SVG.toPath(d),b.SVG.entries[c]=d),d)}if(b.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:b.CFF.Private?b.CFF.Private.defaultWidthX:0,open:!1},e=b.CFF,h=b.CFF.Private;if(e.ROS){for(var g=0;e.FDSelect[g+2]<=c;)g+=2;h=e.FDArray[e.FDSelect[g+1]].Private}a.U._drawCFF(b.CFF.CharStrings[c],i,e,h,f)}else b.glyf&&a.U._drawGlyf(c,b,f);return f},a.U._drawGlyf=function(d,c,e){var b=c.glyf[d];null==b&&(b=c.glyf[d]=a.glyf._parseGlyf(c,d)),null!=b&&(b.noc> -1?a.U._simpleGlyph(b,e):a.U._compoGlyph(b,c,e))},a.U._simpleGlyph=function(b,d){for(var h=0;h<b.noc;h++){for(var j=0==h?0:b.endPts[h-1]+1,k=b.endPts[h],c=j;c<=k;c++){var e=c==j?k:c-1,i=c==k?j:c+1,m=1&b.flags[c],l=1&b.flags[e],n=1&b.flags[i],f=b.xs[c],g=b.ys[c];if(c==j){if(m){if(!l){a.U.P.moveTo(d,f,g);continue}a.U.P.moveTo(d,b.xs[e],b.ys[e])}else l?a.U.P.moveTo(d,b.xs[e],b.ys[e]):a.U.P.moveTo(d,(b.xs[e]+f)/2,(b.ys[e]+g)/2)}m?l&&a.U.P.lineTo(d,f,g):n?a.U.P.qcurveTo(d,f,g,b.xs[i],b.ys[i]):a.U.P.qcurveTo(d,f,g,(f+b.xs[i])/2,(g+b.ys[i])/2)}a.U.P.closePath(d)}},a.U._compoGlyph=function(g,k,e){for(var f=0;f<g.parts.length;f++){var c={cmds:[],crds:[]},h=g.parts[f];a.U._drawGlyf(h.glyphIndex,k,c);for(var d=h.m,b=0;b<c.crds.length;b+=2){var i=c.crds[b],j=c.crds[b+1];e.crds.push(i*d.a+j*d.b+d.tx),e.crds.push(i*d.c+j*d.d+d.ty)}for(b=0;b<c.cmds.length;b++)e.cmds.push(c.cmds[b])}},a.U._getGlyphClass=function(d,b){var c=a._lctf.getInterval(b,d);return -1==c?0:b[c+2]},a.U.getPairAdjustment=function(e,k,l){var i=0,o=!1;if(e.GPOS)for(var p=e.GPOS,u=p.lookupList,q=p.featureList,r=[],c=0;c<q.length;c++){var f=q[c];if("kern"==f.tag){o=!0;for(var g=0;g<f.tab.length;g++)if(!r[f.tab[g]]){r[f.tab[g]]=!0;for(var h=u[f.tab[g]],j=0;j<h.tabs.length;j++)if(null!=h.tabs[j]){var b,s,d=h.tabs[j];if(!d.coverage|| -1!=(s=a._lctf.coverageIndex(d.coverage,k))){if(1==h.ltype);else if(2==h.ltype){if(1==d.fmt){var m=d.pairsets[s];for(c=0;c<m.length;c++)m[c].gid2==l&&(b=m[c])}else if(2==d.fmt){var v=a.U._getGlyphClass(k,d.classDef1),w=a.U._getGlyphClass(l,d.classDef2);b=d.matrix[v][w]}b&&b.val1&&b.val1[2]&&(i+=b.val1[2]),b&&b.val2&&b.val2[0]&&(i+=b.val2[0])}}}}}}if(e.kern&&!o){var n=e.kern.glyph1.indexOf(k);if(-1!=n){var t=e.kern.rval[n].glyph2.indexOf(l);-1!=t&&(i+=e.kern.rval[n].vals[t])}}return i},a.U._applySubs=function(c,d,h,s){for(var t=c.length-d-1,j=0;j<h.tabs.length;j++)if(null!=h.tabs[j]){var m,b=h.tabs[j];if(!b.coverage|| -1!=(m=a._lctf.coverageIndex(b.coverage,c[d]))){if(1==h.ltype)c[d],1==b.fmt?c[d]=c[d]+b.delta:c[d]=b.newg[m];else if(4==h.ltype)for(var u=b.vals[m],f=0;f<u.length;f++){var n=u[f],o=n.chain.length;if(!(o>t)){for(var i=!0,k=0,e=0;e<o;e++){for(;-1==c[d+k+(1+e)];)k++;n.chain[e]!=c[d+k+(1+e)]&&(i=!1)}if(i){for(e=0,c[d]=n.nglyph;e<o+k;e++)c[d+e+1]=-1;break}}}else if(5==h.ltype&&2==b.fmt)for(var l=a._lctf.getInterval(b.cDef,c[d]),x=b.cDef[l+2],v=b.scset[x],g=0;g<v.length;g++){var w=v[g],p=w.input;if(!(p.length>t)){for(i=!0,e=0;e<p.length;e++){var y=a._lctf.getInterval(b.cDef,c[d+1+e]);if(-1==l&&b.cDef[y+2]!=p[e]){i=!1;break}}if(i){var q=w.substLookupRecords;for(f=0;f<q.length;f+=2)q[f],q[f+1]}}}else if(6==h.ltype&&3==b.fmt){if(!a.U._glsCovered(c,b.backCvg,d-b.backCvg.length)||!a.U._glsCovered(c,b.inptCvg,d)||!a.U._glsCovered(c,b.ahedCvg,d+b.inptCvg.length))continue;var r=b.lookupRec;for(g=0;g<r.length;g+=2){l=r[g];var z=s[r[g+1]];a.U._applySubs(c,d+l,z,s)}}}}},a.U._glsCovered=function(d,c,e){for(var b=0;b<c.length;b++)if(-1==a._lctf.coverageIndex(c[b],d[e+b]))return!1;return!0},a.U.glyphsToPath=function(h,d,i){for(var e={cmds:[],crds:[]},j=0,c=0;c<d.length;c++){var g=d[c];if(-1!=g){for(var k=c<d.length-1&& -1!=d[c+1]?d[c+1]:0,f=a.U.glyphToPath(h,g),b=0;b<f.crds.length;b+=2)e.crds.push(f.crds[b]+j),e.crds.push(f.crds[b+1]);for(i&&e.cmds.push(i),b=0;b<f.cmds.length;b++)e.cmds.push(f.cmds[b]);i&&e.cmds.push("X"),j+=h.hmtx.aWidth[g],c<d.length-1&&(j+=a.U.getPairAdjustment(h,g,k))}}return e},a.U.P={},a.U.P.moveTo=function(a,b,c){a.cmds.push("M"),a.crds.push(b,c)},a.U.P.lineTo=function(a,b,c){a.cmds.push("L"),a.crds.push(b,c)},a.U.P.curveTo=function(a,b,c,d,e,f,g){a.cmds.push("C"),a.crds.push(b,c,d,e,f,g)},a.U.P.qcurveTo=function(a,b,c,d,e){a.cmds.push("Q"),a.crds.push(b,c,d,e)},a.U.P.closePath=function(a){a.cmds.push("Z")},a.U._drawCFF=function(A,f,w,q,j){for(var b=f.stack,x=f.nStems,l=f.haveWidth,r=f.width,n=f.open,z=0,c=f.x,d=f.y,k=0,g=0,h=0,i=0,s=0,o=0,m=0,p=0,t=0,u=0,B={val:0,size:0};z<A.length;){a.CFF.getCharString(A,z,B);var e=B.val;if(z+=B.size,"o1"==e||"o18"==e)b.length%2==0||l||(r=b.shift()+q.nominalWidthX),x+=b.length>>1,b.length=0,l=!0;else if("o3"==e||"o23"==e)b.length%2==0||l||(r=b.shift()+q.nominalWidthX),x+=b.length>>1,b.length=0,l=!0;else if("o4"==e)b.length>1&&!l&&(r=b.shift()+q.nominalWidthX,l=!0),n&&a.U.P.closePath(j),d+=b.pop(),a.U.P.moveTo(j,c,d),n=!0;else if("o5"==e)for(;b.length>0;)c+=b.shift(),d+=b.shift(),a.U.P.lineTo(j,c,d);else if("o6"==e||"o7"==e)for(var y=b.length,C="o6"==e,E=0;E<y;E++){var F=b.shift();C?c+=F:d+=F,C=!C,a.U.P.lineTo(j,c,d)}else if("o8"==e||"o24"==e){y=b.length;for(var v=0;v+6<=y;)k=c+b.shift(),g=d+b.shift(),h=k+b.shift(),i=g+b.shift(),c=h+b.shift(),d=i+b.shift(),a.U.P.curveTo(j,k,g,h,i,c,d),v+=6;"o24"==e&&(c+=b.shift(),d+=b.shift(),a.U.P.lineTo(j,c,d))}else{if("o11"==e)break;if("o1234"==e||"o1235"==e||"o1236"==e||"o1237"==e)"o1234"==e&&(g=d,h=(k=c+b.shift())+b.shift(),u=i=g+b.shift(),o=i,p=d,c=(m=(s=(t=h+b.shift())+b.shift())+b.shift())+b.shift(),a.U.P.curveTo(j,k,g,h,i,t,u),a.U.P.curveTo(j,s,o,m,p,c,d)),"o1235"==e&&(k=c+b.shift(),g=d+b.shift(),h=k+b.shift(),i=g+b.shift(),t=h+b.shift(),u=i+b.shift(),s=t+b.shift(),o=u+b.shift(),m=s+b.shift(),p=o+b.shift(),c=m+b.shift(),d=p+b.shift(),b.shift(),a.U.P.curveTo(j,k,g,h,i,t,u),a.U.P.curveTo(j,s,o,m,p,c,d)),"o1236"==e&&(k=c+b.shift(),g=d+b.shift(),h=k+b.shift(),u=i=g+b.shift(),o=i,m=(s=(t=h+b.shift())+b.shift())+b.shift(),p=o+b.shift(),c=m+b.shift(),a.U.P.curveTo(j,k,g,h,i,t,u),a.U.P.curveTo(j,s,o,m,p,c,d)),"o1237"==e&&(k=c+b.shift(),g=d+b.shift(),h=k+b.shift(),i=g+b.shift(),t=h+b.shift(),u=i+b.shift(),s=t+b.shift(),o=u+b.shift(),m=s+b.shift(),p=o+b.shift(),Math.abs(m-c)>Math.abs(p-d)?c=m+b.shift():d=p+b.shift(),a.U.P.curveTo(j,k,g,h,i,t,u),a.U.P.curveTo(j,s,o,m,p,c,d));else if("o14"==e){if(b.length>0&&!l&&(r=b.shift()+w.nominalWidthX,l=!0),4==b.length){var I=b.shift(),J=b.shift(),K=b.shift(),L=b.shift(),M=a.CFF.glyphBySE(w,K),N=a.CFF.glyphBySE(w,L);a.U._drawCFF(w.CharStrings[M],f,w,q,j),f.x=I,f.y=J,a.U._drawCFF(w.CharStrings[N],f,w,q,j)}n&&(a.U.P.closePath(j),n=!1)}else if("o19"==e||"o20"==e)b.length%2==0||l||(r=b.shift()+q.nominalWidthX),x+=b.length>>1,b.length=0,l=!0,z+=x+7>>3;else if("o21"==e)b.length>2&&!l&&(r=b.shift()+q.nominalWidthX,l=!0),d+=b.pop(),c+=b.pop(),n&&a.U.P.closePath(j),a.U.P.moveTo(j,c,d),n=!0;else if("o22"==e)b.length>1&&!l&&(r=b.shift()+q.nominalWidthX,l=!0),c+=b.pop(),n&&a.U.P.closePath(j),a.U.P.moveTo(j,c,d),n=!0;else if("o25"==e){for(;b.length>6;)c+=b.shift(),d+=b.shift(),a.U.P.lineTo(j,c,d);k=c+b.shift(),g=d+b.shift(),h=k+b.shift(),i=g+b.shift(),c=h+b.shift(),d=i+b.shift(),a.U.P.curveTo(j,k,g,h,i,c,d)}else if("o26"==e)for(b.length%2&&(c+=b.shift());b.length>0;)k=c,g=d+b.shift(),c=h=k+b.shift(),d=(i=g+b.shift())+b.shift(),a.U.P.curveTo(j,k,g,h,i,c,d);else if("o27"==e)for(b.length%2&&(d+=b.shift());b.length>0;)g=d,h=(k=c+b.shift())+b.shift(),i=g+b.shift(),c=h+b.shift(),d=i,a.U.P.curveTo(j,k,g,h,i,c,d);else if("o10"==e||"o29"==e){var G="o10"==e?q:w;if(0==b.length)console.debug("error: empty stack");else{var O=b.pop(),P=G.Subrs[O+G.Bias];f.x=c,f.y=d,f.nStems=x,f.haveWidth=l,f.width=r,f.open=n,a.U._drawCFF(P,f,w,q,j),c=f.x,d=f.y,x=f.nStems,l=f.haveWidth,r=f.width,n=f.open}}else if("o30"==e||"o31"==e){var H=b.length,D=(v=0,"o31"==e);for(v+=H-(y=-3&H);v<y;)D?(g=d,h=(k=c+b.shift())+b.shift(),d=(i=g+b.shift())+b.shift(),y-v==5?(c=h+b.shift(),v++):c=h,D=!1):(k=c,g=d+b.shift(),h=k+b.shift(),i=g+b.shift(),c=h+b.shift(),y-v==5?(d=i+b.shift(),v++):d=i,D=!0),a.U.P.curveTo(j,k,g,h,i,c,d),v+=4}else{if("o"==(e+"").charAt(0))throw console.debug("Unknown operation: "+e,A),e;b.push(e)}}}f.x=c,f.y=d,f.nStems=x,f.haveWidth=l,f.width=r,f.open=n},c=a,b.Typr=c,b.default={Typr:c},Object.defineProperty(b,"__esModule",{value:!0}),b).Typr},/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/ function(){return function(e){var c=Uint8Array,j=Uint16Array,r=Uint32Array,k=new c([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new c([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new c([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(e,f){for(var b=new j(31),a=0;a<31;++a)b[a]=f+=1<<e[a-1];var d=new r(b[30]);for(a=1;a<30;++a)for(var c=b[a];c<b[a+1];++c)d[c]=c-b[a]<<5|a;return[b,d]},g=f(k,2),m=g[0],n=g[1];m[28]=258,n[258]=28;for(var t=f(l,0)[0],o=new j(32768),a=0;a<32768;++a){var b=(43690&a)>>>1|(21845&a)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,o[a]=((65280&b)>>>8|(255&b)<<8)>>>1}var h=function(b,c,k){for(var e=b.length,a=0,h=new j(c);a<e;++a)++h[b[a]-1];var d,f=new j(c);for(a=0;a<c;++a)f[a]=f[a-1]+h[a-1]<<1;if(k){d=new j(1<<c);var l=15-c;for(a=0;a<e;++a)if(b[a])for(var m=a<<4|b[a],i=c-b[a],g=(f[b[a]-1]++)<<i,n=g|(1<<i)-1;g<=n;++g)d[o[g]>>>l]=m}else for(d=new j(e),a=0;a<e;++a)b[a]&&(d[a]=o[f[b[a]-1]++]>>>15-b[a]);return d},d=new c(288);for(a=0;a<144;++a)d[a]=8;for(a=144;a<256;++a)d[a]=9;for(a=256;a<280;++a)d[a]=7;for(a=280;a<288;++a)d[a]=8;var i=new c(32);for(a=0;a<32;++a)i[a]=5;var u=h(d,9,1),v=h(i,5,1),w=function(a){for(var c=a[0],b=1;b<a.length;++b)a[b]>c&&(c=a[b]);return c},x=function(a,b,d){var c=b/8|0;return(a[c]|a[c+1]<<8)>>(7&b)&d},y=function(a,c){var b=c/8|0;return(a[b]|a[b+1]<<8|a[b+2]<<16)>>(7&c)},z=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],A=function(b,c,d){var a=Error(c||z[b]);if(a.code=b,Error.captureStackTrace&&Error.captureStackTrace(a,A),!d)throw a;return a},B=function(e,f,b){var o,p,z,X,B=e.length;if(!B||b&&!b.l&&B<5)return f||new c(0);var L=!f||b,I=!b||b.i;b||(b={}),f||(f=new c(3*B));var Y,M=function(a){var b=f.length;if(a>b){var d=new c(Math.max(2*b,a));d.set(f),f=d}},N=b.f||0,a=b.p||0,d=b.b||0,n=b.l,J=b.d,C=b.m,D=b.n,O=8*B;do{if(!n){b.f=N=x(e,a,1);var P=x(e,a+1,3);if(a+=3,!P){var Q=e[(F=((Y=a)/8|0)+(7&Y&&1)+4)-4]|e[F-3]<<8,R=F+Q;if(R>B){I&&A(0);break}L&&M(d+Q),f.set(e.subarray(F,R),d),b.b=d+=Q,b.p=a=8*R;continue}if(1==P)n=u,J=v,C=9,D=5;else if(2==P){var S=x(e,a,31)+257,Z=x(e,a+10,15)+4,$=S+x(e,a+5,31)+1;a+=14;for(var E=new c($),T=new c(19),g=0;g<Z;++g)T[s[g]]=x(e,a+3*g,7);a+=3*Z;var _=w(T),ae=(1<<_)-1,af=h(T,_,1);for(g=0;g<$;){var F,aa=af[x(e,a,ae)];if(a+=15&aa,(F=aa>>>4)<16)E[g++]=F;else{var G=0,K=0;for(16==F?(K=3+x(e,a,3),a+=2,G=E[g-1]):17==F?(K=3+x(e,a,7),a+=3):18==F&&(K=11+x(e,a,127),a+=7);K--;)E[g++]=G}}var ab=E.subarray(0,S),i=E.subarray(S);C=w(ab),D=w(i),n=h(ab,C,1),J=h(i,D,1)}else A(1);if(a>O){I&&A(0);break}}L&&M(d+131072);for(var ag=(1<<C)-1,ah=(1<<D)-1,U=a;;U=a){var q=(G=n[y(e,a)&ag])>>>4;if((a+=15&G)>O){I&&A(0);break}if(G||A(2),q<256)f[d++]=q;else{if(256==q){U=a,n=null;break}var ac=q-254;if(q>264){var H=k[g=q-257];ac=x(e,a,(1<<H)-1)+m[g],a+=H}var V=J[y(e,a)&ah],W=V>>>4;if(V||A(3),a+=15&V,i=t[W],W>3&&(H=l[W],i+=y(e,a)&(1<<H)-1,a+=H),a>O){I&&A(0);break}L&&M(d+131072);for(var ad=d+ac;d<ad;d+=4)f[d]=f[d-i],f[d+1]=f[d+1-i],f[d+2]=f[d+2-i],f[d+3]=f[d+3-i];d=ad}}b.l=n,b.p=U,b.b=d,n&&(N=1,b.m=C,b.d=J,b.n=D)}while(!N)return d==f.length?f:(o=f,p=0,(null==p||p<0)&&(p=0),(null==(z=d)||z>o.length)&&(z=o.length),(X=new(o instanceof j?j:o instanceof r?r:c)(z-p)).set(o.subarray(p,z)),X)},p=new c(0),q="undefined"!=typeof TextDecoder&&new TextDecoder;try{q.decode(p,{stream:!0})}catch(C){}return e.convert_streams=function(j){var p=new DataView(j),q=0;function e(){var a=p.getUint16(q);return q+=2,a}function a(){var a=p.getUint32(q);return q+=4,a}function f(a){r.setUint16(s,a),s+=2}function k(a){r.setUint32(s,a),s+=4}for(var b={signature:a(),flavor:a(),length:a(),numTables:e(),reserved:e(),totalSfntSize:a(),majorVersion:e(),minorVersion:e(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},c=0;Math.pow(2,c)<=b.numTables;)c++;c--;for(var g=16*Math.pow(2,c),l=16*b.numTables-g,m=12,d=[],h=0;h<b.numTables;h++)d.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),m+=16;var n,o=new Uint8Array(12+16*d.length+d.reduce(function(a,b){return a+b.origLength+4},0)),i=o.buffer,r=new DataView(i),s=0;return k(b.flavor),f(b.numTables),f(g),f(c),f(l),d.forEach(function(a){k(a.tag),k(a.origChecksum),k(m),k(a.origLength),a.outOffset=m,(m+=a.origLength)%4!=0&&(m+=4-m%4)}),d.forEach(function(a){var d,e=j.slice(a.offset,a.offset+a.compLength);if(a.compLength!=a.origLength){var b=new Uint8Array(a.origLength);d=new Uint8Array(e,2),B(d,b)}else b=new Uint8Array(e);o.set(b,a.outOffset);var c=0;(m=a.outOffset+a.origLength)%4!=0&&(c=4-m%4),o.set(new Uint8Array(c).buffer,a.outOffset+a.origLength),n=m+c}),i.slice(0,n)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(a,b){let c={M:2,L:2,Q:4,C:6,Z:0},d={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},e;function f(a){if(!e){let c={R:2,L:1,D:4,C:16,U:32,T:8};for(let b in e=new Map,d){let f=0;d[b].split(",").forEach(g=>{let[d,a]=g.split("+");d=parseInt(d,36),a=a?parseInt(a,36):0,e.set(f+=d,c[b]);for(let h=a;h--;)e.set(++f,c[b])})}}return e.get(a)||32}let g=[null,"isol","init","fina","medi"];function h(g){let c=new Uint8Array(g.length),h=32,a=1,d=-1;for(let b=0;b<g.length;b++){let i=g.codePointAt(b),e=0|f(i),j=1;!(8&e)&&(21&h?22&e?(j=3,(1===a||3===a)&&c[d]++):33&e&&(2===a||4===a)&&c[d]--:34&h&&(2===a||4===a)&&c[d]--,a=c[b]=j,h=e,d=b,i>65535&&b++)}return c}return function(d){let f=new Uint8Array(d,0,4),e=a._bin.readASCII(f,0,4);if("wOFF"===e)d=b(d);else if("wOF2"===e)throw Error("woff2 fonts not supported");return function(b){let e=Object.create(null),d={unitsPerEm:b.head.unitsPerEm,ascender:b.hhea.ascender,descender:b.hhea.descender,forEachGlyph(f,i,l,m){let j=0,n=1/d.unitsPerEm*i,k=function(c,d){let e=[];for(let b=0;b<d.length;b++){let f=d.codePointAt(b);f>65535&&b++,e.push(a.U.codeToGlyph(c,f))}let i=c.GSUB;if(i){let{lookupList:k,featureList:j}=i,l,m=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,n=[];j.forEach(b=>{if(m.test(b.tag))for(let c=0;c<b.tab.length;c++){if(n[b.tab[c]])continue;n[b.tab[c]]=!0;let j=k[b.tab[c]],i=/^(isol|init|fina|medi)$/.test(b.tag);i&&!l&&(l=h(d));for(let f=0;f<e.length;f++)l&&i&&g[l[f]]!==b.tag||a.U._applySubs(e,f,j,k)}})}return e}(b,f),o=0,p=-1;return k.forEach((d,E)=>{if(-1!==d){let g=e[d];if(!g){let{cmds:t,crds:h}=a.U.glyphToPath(b,d),y="",A=0;for(let u=0,B=t.length;u<B;u++){let C=c[t[u]];y+=t[u];for(let z=1;z<=C;z++)y+=(z>1?",":"")+h[A++]}let k,q,r,s;if(h.length){k=q=1/0,r=s=-1/0;for(let v=0,D=h.length;v<D;v+=2){let w=h[v],x=h[v+1];w<k&&(k=w),x<q&&(q=x),w>r&&(r=w),x>s&&(s=x)}}else k=r=q=s=0;g=e[d]={index:d,advanceWidth:b.hmtx.aWidth[d],xMin:k,yMin:q,xMax:r,yMax:s,path:y,pathCommandCount:t.length}}-1!==p&&(j+=a.U.getPairAdjustment(b,p,d)*n),m.call(null,g,j,o),g.advanceWidth&&(j+=g.advanceWidth*n),l&&(j+=l*i),p=d}o+=f.codePointAt(o)>65535?2:1}),j}};return d}(a.parse(d)[0])}}],init(a,b,c){let d=a(),e=b();return c(d,e)}}),n={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:.0625,sdfExponent:9,textureWidth:2048},T=new d.Ilk,U=!1;function V(){return(self.performance||Date).now()}let W=Object.create(null);function X({path:f,atlasIndex:c,sdfViewBox:b},{sdfGlyphSize:a,sdfCanvas:g,contextLost:h},i){if(h)return Promise.resolve({timing:-1});let{textureWidth:d,sdfExponent:j}=n,k=Math.max(b[2]-b[0],b[3]-b[1]),e=Math.floor(c/4);return function(a,b,c,d,e,f,g,h,i,j,k=!0){return k?Q(a,b,c,d,e,f,g,h,i,j).then(null,k=>(P||(console.warn("WebGL SDF generation failed, falling back to JS",k),P=!0),R(a,b,c,d,e,f,g,h,i,j))):R(a,b,c,d,e,f,g,h,i,j)}(a,a,f,b,k,j,g,e%(d/a)*a,Math.floor(e/(d/a))*a,c%4,i)}function Y(b){let a=b.sdfCanvas;a.addEventListener("webglcontextlost",a=>{console.log("Context Lost",a),a.preventDefault(),b.contextLost=!0}),a.addEventListener("webglcontextrestored",a=>{console.log("Context Restored",a),b.contextLost=!1;let c=[];b.glyphsByFont.forEach(a=>{a.forEach(a=>{c.push(X(a,b,!0))})}),h.all(c).then(()=>{aa(b),b.sdfTexture.needsUpdate=!0})})}function Z(c,a){for(let b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}let $;function _(a){return $||($="undefined"==typeof document?{}:document.createElement("a")),$.href=a,$.href}function aa(f){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:g,sdfTexture:b}=f,{width:c,height:d}=g,e=f.sdfCanvas.getContext("webgl"),a=b.image.data;a&&a.length===c*d*4||(a=new Uint8Array(c*d*4),b.image={width:c,height:d,data:a},b.flipY=!1,b.isDataTexture=!0),e.readPixels(0,0,c,d,e.RGBA,e.UNSIGNED_BYTE,a)}}let o=b({name:"Typesetter",dependencies:[n,m,function(f,g,c){let{defaultFontURL:h}=c,i=Object.create(null),j=1/0,k=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,l=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function d(a,c){a||(a=h);let b=i[a];b?b.pending?b.pending.push(c):c(b):(i[a]={pending:[c]},function(b,c){function a(){let e=c=>{console.error(`Failure loading font ${b}${b===h?"":"; trying fallback"}`,c),b!==h&&(b=h,a())};try{let d=new XMLHttpRequest;d.open("get",b,!0),d.responseType="arraybuffer",d.onload=function(){if(d.status>=400)e(Error(d.statusText));else if(d.status>0)try{let a=f(d.response);c(a)}catch(b){e(b)}},d.onerror=e,d.send()}catch(g){e(g)}}a()}(a,b=>{let c=i[a].pending;i[a]=b,c.forEach(a=>a(b))}))}function e({text:b="",font:q=h,sdfGlyphSize:r=64,fontSize:c=1,letterSpacing:e=0,lineHeight:f="normal",maxWidth:i=j,direction:s,textAlign:t="left",textIndent:p=0,whiteSpace:u="normal",overflowWrap:v="normal",anchorX:w=0,anchorY:x=0,includeCaretPositions:y=!1,chunkedBoundsSize:z=8192,colorRanges:A=null},B,C=!1){let D=o(),E={fontLoad:0,typesetting:0};b.indexOf("\r")> -1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),b=b.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),c=+c,e=+e,i=+i,f=f||"normal",p=+p,d(q,M=>{let $=isFinite(i),N=null,O=null,P=null,Q=null,r=null,R=null,S=null,T=0,J=0,_="nowrap"!==u,{ascender:h,descender:q,unitsPerEm:K}=M;E.fontLoad=o()-D;let Y=o(),d=c/K;"normal"===f&&(f=(h-q)/K),f*=c;let U=(f-(h-q)*d)/2,L=-(h*d+U),V=Math.min(f,(h-q)*d),aa=(h+q)/2*d-V/2,ab=p,Z=new a,F=[Z];M.forEachGlyph(b,c,e,(f,j,r)=>{let h=b.charAt(r),o=f.advanceWidth*d,q=Z.count,g;if("isEmpty"in f||(f.isWhitespace=!!h&&/\s/.test(h),f.canBreakAfter=!!h&&l.test(h),f.isEmpty=f.xMin===f.xMax||f.yMin===f.yMax||k.test(h)),!f.isWhitespace&&!f.isEmpty&&J++,_&&$&&!f.isWhitespace&&j+o+ab>i&&q){if(Z.glyphAt(q-1).glyphObj.canBreakAfter)g=new a,ab=-j;else for(let m=q;m--;){if(0===m&&"break-word"===v){g=new a,ab=-j;break}if(Z.glyphAt(m).glyphObj.canBreakAfter){g=Z.splitAt(m+1);let s=g.glyphAt(0).x;ab-=s;for(let t=g.count;t--;)g.glyphAt(t).x-=s;break}}g&&(Z.isSoftWrapped=!0,Z=g,F.push(Z),T=i)}let n=Z.glyphAt(Z.count);n.glyphObj=f,n.x=j+ab,n.width=o,n.charIndex=r,"\n"===h&&(Z=new a,F.push(Z),ab=-(j+o+e*c)+p)}),F.forEach(a=>{for(let b=a.count;b--;){let{glyphObj:c,x:d,width:e}=a.glyphAt(b);if(!c.isWhitespace){a.width=d+e,a.width>T&&(T=a.width);return}}});let G=0,H=0;if(w&&("number"==typeof w?G=-w:"string"==typeof w&&(G=-T*("left"===w?0:"center"===w?.5:"right"===w?1:m(w)))),x){if("number"==typeof x)H=-x;else if("string"==typeof x){let I=F.length*f;H="top"===x?0:"top-baseline"===x?-L:"middle"===x?I/2:"bottom"===x?I:"bottom-baseline"===x?I-U+q*d:m(x)*I}}if(!C){let ac=g.getEmbeddingLevels(b,s);N=new Uint16Array(J),O=new Float32Array(2*J),P={},R=[j,j,-j,-j],S=[];let ad=L;y&&(r=new Float32Array(3*b.length)),A&&(Q=new Uint8Array(3*J));let ae=0,W=-1,af=-1,ag,ah;if(F.forEach((c,av)=>{let{count:e,width:D}=c;if(e>0){let q=0;for(let _=e;(_--)&&c.glyphAt(_).glyphObj.isWhitespace;)q++;let s=0,l=0;if("center"===t)s=(T-D)/2;else if("right"===t)s=T-D;else if("justify"===t&&c.isSoftWrapped){let ab=0;for(let ai=e-q;ai--;)c.glyphAt(ai).glyphObj.isWhitespace&&ab++;l=(T-D)/ab}if(l||s){let aj=0;for(let u=0;u<e;u++){let E=c.glyphAt(u),ap=E.glyphObj;E.x+=s+aj,0!==l&&ap.isWhitespace&&u<e-q&&(aj+=l,E.width+=l)}}let ak=g.getReorderSegments(b,ac,c.glyphAt(0).charIndex,c.glyphAt(c.count-1).charIndex);for(let F=0;F<ak.length;F++){let[aq,ar]=ak[F],I=1/0,J=-1/0;for(let m=0;m<e;m++)if(c.glyphAt(m).charIndex>=aq){let as=m,o=m;for(;o<e;o++){let v=c.glyphAt(o);if(v.charIndex>ar)break;o<e-q&&(I=Math.min(I,v.x),J=Math.max(J,v.x+v.width))}for(let K=as;K<o;K++){let L=c.glyphAt(K);L.x=J-(L.x+L.width-I)}break}}let a,at=b=>a=b;for(let U=0;U<e;U++){let h=c.glyphAt(U);a=h.glyphObj;let V=a.index,X=1&ac.levels[h.charIndex];if(X){let al=g.getMirroredCharacter(b[h.charIndex]);al&&M.forEachGlyph(al,0,0,at)}if(y){let{charIndex:p}=h,am=h.x+G,an=h.x+h.width+G;r[3*p]=X?an:am,r[3*p+1]=X?am:an,r[3*p+2]=ad+aa+H;let ao=p-W;ao>1&&n(r,W,ao),W=p}if(A){let{charIndex:au}=h;for(;au>af;)af++,A.hasOwnProperty(af)&&(ah=A[af])}if(!a.isWhitespace&&!a.isEmpty){let k=ae++;P[V]||(P[V]={path:a.path,pathBounds:[a.xMin,a.yMin,a.xMax,a.yMax]});let Y=h.x+G,Z=ad+H;O[2*k]=Y,O[2*k+1]=Z;let w=Y+a.xMin*d,x=Z+a.yMin*d,B=Y+a.xMax*d,C=Z+a.yMax*d;w<R[0]&&(R[0]=w),x<R[1]&&(R[1]=x),B>R[2]&&(R[2]=B),C>R[3]&&(R[3]=C),k%z==0&&(ag={start:k,end:k,rect:[j,j,-j,-j]},S.push(ag)),ag.end++;let i=ag.rect;if(w<i[0]&&(i[0]=w),x<i[1]&&(i[1]=x),B>i[2]&&(i[2]=B),C>i[3]&&(i[3]=C),N[k]=V,A){let $=3*k;Q[$]=ah>>16&255,Q[$+1]=ah>>8&255,Q[$+2]=255&ah}}}}ad-=f}),r){let X=b.length-W;X>1&&n(r,W,X)}}E.typesetting=o()-Y,B({glyphIds:N,glyphPositions:O,glyphData:P,caretPositions:r,caretHeight:V,glyphColors:Q,chunkedBounds:S,fontSize:c,unitsPerEm:K,ascender:h*d,descender:q*d,lineHeight:f,topBaseline:L,blockBounds:[G,H-F.length*f,G+T,H],visibleBounds:R,timings:E})})}function m(c){let a=c.match(/^([\d.]+)%$/),b=a?parseFloat(a[1]):NaN;return isNaN(b)?0:b/100}function n(a,c,f){let d=a[3*c],h=a[3*c+1],i=a[3*c+2],g=(h-d)/f;for(let b=0;b<f;b++){let e=(c+b)*3;a[e]=d+g*b,a[e+1]=d+g*(b+1),a[e+2]=i}}function o(){return(self.performance||Date).now()}function a(){this.data=[]}let b=["glyphObj","x","width","charIndex"];return a.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/b.length)},glyphAt(c){let b=a.flyweight;return b.data=this.data,b.index=c,b},splitAt(d){let c=new a;return c.data=this.data.splice(d*b.length),c}},a.flyweight=b.reduce((a,c,d,e)=>(Object.defineProperty(a,c,{get(){return this.data[this.index*b.length+d]},set(a){this.data[this.index*b.length+d]=a}}),a),{data:null,index:0}),{typeset:e,measure:function(a,b){e(a,a=>{let[c,d,e,f]=a.blockBounds;b({width:e-c,height:f-d})},{metricsOnly:!0})},loadFont:d}},function(){return function(b){var n,o,p,q,c={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},a={},d={};a.L=1,d[1]="L",Object.keys(c).forEach(function(b,c){a[b]=1<<c+1,d[a[b]]=b}),Object.freeze(a);var e=a.LRI|a.RLI|a.FSI,r=a.L|a.R|a.AL,s=a.B|a.S|a.WS|a.ON|a.FSI|a.LRI|a.RLI|a.PDI,f=a.BN|a.RLE|a.LRE|a.RLO|a.LRO|a.PDF,t=a.S|a.WS|a.B|e|a.PDI|f,u=null;function g(b){return!function(){if(!u){u=new Map;var b=function(b){if(c.hasOwnProperty(b)){var d=0;c[b].split(",").forEach(function(h){var f=h.split("+"),e=f[0],c=f[1];e=parseInt(e,36),c=c?parseInt(c,36):0,u.set(d+=e,a[b]);for(var g=0;g<c;g++)u.set(++d,a[b])})}};for(var d in c)b(d)}}(),u.get(b.codePointAt(0))||a.L}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(a,b){var e,f=0,c=new Map,d=b&&new Map;return a.split(",").forEach(function j(a){if(-1!==a.indexOf("+"))for(var k=+a;k--;)j(e);else{e=a;var i=a.split(">"),g=i[0],h=i[1];g=String.fromCodePoint(f+=parseInt(g,36)),h=String.fromCodePoint(f+=parseInt(h,36)),c.set(g,h),b&&d.set(h,g)}}),{map:c,reverseMap:d}}function x(){if(!n){var a=w(v.pairs,!0),b=a.map,c=a.reverseMap;n=b,o=c,p=w(v.canonical,!1).map}}function h(a){return x(),n.get(a)||null}function i(a){return x(),o.get(a)||null}function j(a){return x(),p.get(a)||null}var y=a.L,z=a.R,A=a.EN,B=a.ES,C=a.ET,D=a.AN,E=a.CS,F=a.B,G=a.S,H=a.ON,I=a.BN,J=a.NSM,K=a.AL,L=a.LRO,M=a.RLO,N=a.LRE,O=a.RLE,P=a.PDF,Q=a.LRI,R=a.RLI,S=a.FSI,T=a.PDI;function k(a){return!function(){if(!q){var a=w("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),b=a.map;a.reverseMap.forEach(function(a,c){b.set(c,a)}),q=b}}(),q.get(a)||null}function l(d,e,a,b){var c=d.length;a=Math.max(0,null==a?0:+a),b=Math.min(c-1,null==b?c-1:+b);var f=[];return e.paragraphs.forEach(function(j){var i=Math.max(a,j.start),n=Math.min(b,j.end);if(i<n){for(var h=e.levels.slice(i,n+1),k=n;k>=i&&g(d[k])&t;k--)h[k]=j.level;for(var o=j.level,p=1/0,q=0;q<h.length;q++){var l=h[q];l>o&&(o=l),l<p&&(p=1|l)}for(var m=o;m>=p;m--)for(var c=0;c<h.length;c++)if(h[c]>=m){for(var r=c;c+1<h.length&&h[c+1]>=m;)c++;c>r&&f.push([r+i,c+i])}}}),f}function m(b,d,e,f){for(var g=l(b,d,e,f),c=[],a=0;a<b.length;a++)c[a]=a;return g.forEach(function(b){for(var f=b[0],d=b[1],e=c.slice(f,d+1),a=e.length;a--;)c[d-a]=e[a]}),c}return b.closingToOpeningBracket=i,b.getBidiCharType=g,b.getBidiCharTypeName=function(a){return d[g(a)]},b.getCanonicalBracket=j,b.getEmbeddingLevels=function(u,a6){for(var b=new Uint32Array(u.length),an=0;an<u.length;an++)b[an]=g(u[an]);var o=new Map;function p(d,a){var c=b[d];b[d]=a,o.set(c,o.get(c)-1),c&s&&o.set(s,o.get(s)-1),o.set(a,(o.get(a)||0)+1),a&s&&o.set(s,(o.get(s)||0)+1)}for(var c=new Uint8Array(u.length),ao=new Map,ap=[],k=null,Y=0;Y<u.length;Y++)k||ap.push(k={start:Y,end:u.length-1,level:"rtl"===a6?1:"ltr"===a6?0:bE(Y,!1)}),b[Y]&F&&(k.end=Y,k=null);for(var by=O|N|M|L|e|T|P|F,aG=function(a){return a+(1&a?1:2)},aH=function(a){return a+(1&a?2:1)},aI=0;aI<ap.length;aI++){var l=[{_level:(k=ap[aI]).level,_override:0,_isolate:0}],d=void 0,U=0,V=0,aJ=0;o.clear();for(var m=k.start;m<=k.end;m++){var n=b[m];if(d=l[l.length-1],o.set(n,(o.get(n)||0)+1),n&s&&o.set(s,(o.get(s)||0)+1),n&by){if(n&(O|N)){c[m]=d._level;var a7=(n===O?aH:aG)(d._level);!(a7<=125)||U||V?!U&&V++:l.push({_level:a7,_override:0,_isolate:0})}else if(n&(M|L)){c[m]=d._level;var a8=(n===M?aH:aG)(d._level);!(a8<=125)||U||V?!U&&V++:l.push({_level:a8,_override:n&M?z:y,_isolate:0})}else if(n&e){n&S&&(n=1===bE(m+1,!0)?R:Q),c[m]=d._level,d._override&&p(m,d._override);var a9=(n===R?aH:aG)(d._level);a9<=125&&0===U&&0===V?(aJ++,l.push({_level:a9,_override:0,_isolate:1,_isolInitIndex:m})):U++}else if(n&T){if(U>0)U--;else if(aJ>0){for(V=0;!l[l.length-1]._isolate;)l.pop();var aK=l[l.length-1]._isolInitIndex;null!=aK&&(ao.set(aK,m),ao.set(m,aK)),l.pop(),aJ--}d=l[l.length-1],c[m]=d._level,d._override&&p(m,d._override)}else n&P?(0===U&&(V>0?V--:!d._isolate&&l.length>1&&(l.pop(),d=l[l.length-1])),c[m]=d._level):n&F&&(c[m]=k.level)}else c[m]=d._level,d._override&&n!==I&&p(m,d._override)}for(var Z=[],v=null,X=k.start;X<=k.end;X++){var aL=b[X];if(!(aL&f)){var ba=c[X],bb=aL&e,bz=aL===T;v&&ba===v._level?(v._end=X,v._endsWithIsolInit=bb):Z.push(v={_start:X,_end:X,_level:ba,_startsWithPDI:bz,_endsWithIsolInit:bb})}}for(var aM=[],aq=0;aq<Z.length;aq++){var ar=Z[aq];if(!ar._startsWithPDI||ar._startsWithPDI&&!ao.has(ar._start)){for(var aN=[v=ar],bc=void 0;v&&v._endsWithIsolInit&&null!=(bc=ao.get(v._end));)for(var as=aq+1;as<Z.length;as++)if(Z[as]._start===bc){aN.push(v=Z[as]);break}for(var $=[],aO=0;aO<aN.length;aO++)for(var bd=aN[aO],aP=bd._start;aP<=bd._end;aP++)$.push(aP);for(var bA=c[$[0]],be=k.level,at=$[0]-1;at>=0;at--)if(!(b[at]&f)){be=c[at];break}var aQ=$[$.length-1],bB=c[aQ],bf=k.level;if(!(b[aQ]&e)){for(var au=aQ+1;au<=k.end;au++)if(!(b[au]&f)){bf=c[au];break}}aM.push({_seqIndices:$,_sosType:Math.max(be,bA)%2?z:y,_eosType:Math.max(bf,bB)%2?z:y})}}for(var aR=0;aR<aM.length;aR++){var aS=aM[aR],a=aS._seqIndices,ac=aS._sosType,bC=aS._eosType,_=1&c[a[0]]?z:y;if(o.get(J))for(var av=0;av<a.length;av++){var bg=a[av];if(b[bg]&J){for(var aT=ac,aw=av-1;aw>=0;aw--)if(!(b[a[aw]]&f)){aT=b[a[aw]];break}p(bg,aT&(e|T)?H:aT)}}if(o.get(A))for(var ax=0;ax<a.length;ax++){var bh=a[ax];if(b[bh]&A)for(var ay=ax-1;ay>= -1;ay--){var bi=-1===ay?ac:b[a[ay]];if(bi&r){bi===K&&p(bh,D);break}}}if(o.get(K))for(var aU=0;aU<a.length;aU++){var bj=a[aU];b[bj]&K&&p(bj,z)}if(o.get(B)||o.get(E))for(var ad=1;ad<a.length-1;ad++){var aV=a[ad];if(b[aV]&(B|E)){for(var ae=0,bk=0,aW=ad-1;aW>=0&&(ae=b[a[aW]])&f;aW--);for(var aX=ad+1;aX<a.length&&(bk=b[a[aX]])&f;aX++);ae===bk&&(b[aV]===B?ae===A:ae&(A|D))&&p(aV,ae)}}if(o.get(A)){for(var w=0;w<a.length;w++)if(b[a[w]]&A){for(var az=w-1;az>=0&&b[a[az]]&(C|f);az--)p(a[az],A);for(w++;w<a.length&&b[a[w]]&(C|f|A);w++)b[a[w]]!==A&&p(a[w],A)}}if(o.get(C)||o.get(B)||o.get(E))for(var af=0;af<a.length;af++){var bl=a[af];if(b[bl]&(C|B|E)){p(bl,H);for(var aA=af-1;aA>=0&&b[a[aA]]&f;aA--)p(a[aA],H);for(var aB=af+1;aB<a.length&&b[a[aB]]&f;aB++)p(a[aB],H)}}if(o.get(A))for(var aY=0,bm=ac;aY<a.length;aY++){var bn=a[aY],aZ=b[bn];aZ&A?bm===y&&p(bn,y):aZ&r&&(bm=aZ)}if(o.get(s)){for(var ag=z|A|D,bo=ag|y,aC=[],aa=[],ab=0;ab<a.length;ab++)if(b[a[ab]]&s){var ah=u[a[ab]],bp=void 0;if(null!==h(ah)){if(aa.length<63)aa.push({char:ah,seqIndex:ab});else break}else if(null!==(bp=i(ah)))for(var ai=aa.length-1;ai>=0;ai--){var a$=aa[ai].char;if(a$===bp||a$===i(j(ah))||h(j(a$))===ah){aC.push([aa[ai].seqIndex,ab]),aa.length=ai;break}}}aC.sort(function(a,b){return a[0]-b[0]});for(var a_=0;a_<aC.length;a_++){for(var bq=aC[a_],aD=bq[0],a0=bq[1],br=!1,x=0,a1=aD+1;a1<a0;a1++){var bs=a[a1];if(b[bs]&bo){br=!0;var bt=b[bs]&ag?z:y;if(bt===_){x=bt;break}}}if(br&&!x){x=ac;for(var a2=aD-1;a2>=0;a2--){var bu=a[a2];if(b[bu]&bo){var bv=b[bu]&ag?z:y;x=bv!==_?bv:_;break}}}if(x){if(b[a[aD]]=b[a[a0]]=x,x!==_){for(var aj=aD+1;aj<a.length;aj++)if(!(b[a[aj]]&f)){g(u[a[aj]])&J&&(b[a[aj]]=x);break}}if(x!==_){for(var ak=a0+1;ak<a.length;ak++)if(!(b[a[ak]]&f)){g(u[a[ak]])&J&&(b[a[ak]]=x);break}}}}for(var W=0;W<a.length;W++)if(b[a[W]]&s){for(var bw=W,a3=W,a4=ac,al=W-1;al>=0;al--)if(b[a[al]]&f)bw=al;else{a4=b[a[al]]&ag?z:y;break}for(var bx=bC,am=W+1;am<a.length;am++)if(b[a[am]]&(s|f))a3=am;else{bx=b[a[am]]&ag?z:y;break}for(var a5=bw;a5<=a3;a5++)b[a[a5]]=a4===bx?a4:_;W=a3}}}for(var q=k.start;q<=k.end;q++){var bD=c[q],aE=b[q];if(1&bD?aE&(y|A|D)&&c[q]++:aE&z?c[q]++:aE&(D|A)&&(c[q]+=2),aE&f&&(c[q]=0===q?k.level:c[q-1]),q===k.end||g(u[q])&(G|F))for(var aF=q;aF>=0&&g(u[aF])&t;aF--)c[aF]=k.level}}return{levels:c,paragraphs:ap};function bE(f,g){for(var a=f;a<u.length;a++){var c=b[a];if(c&(z|K))return 1;if(c&(F|y)||g&&c===T)break;if(c&e){var d=bF(a);a=-1===d?u.length:d}}return 0}function bF(f){for(var d=1,a=f+1;a<u.length;a++){var c=b[a];if(c&F)break;if(c&T){if(0== --d)return a}else c&e&&d++}return -1}},b.getMirroredCharacter=k,b.getMirroredCharactersMap=function(d,h,b,c){var e=d.length;b=Math.max(0,null==b?0:+b),c=Math.min(e-1,null==c?e-1:+c);for(var f=new Map,a=b;a<=c;a++)if(1&h[a]){var g=k(d[a]);null!==g&&f.set(a,g)}return f},b.getReorderSegments=l,b.getReorderedIndices=m,b.getReorderedString=function(a,b,c,d){var e=m(a,b,c,d),f=[].concat(a);return e.forEach(function(c,d){f[d]=(1&b.levels[c]?k(a[c]):null)||a[c]}),f.join("")},b.openingToClosingBracket=h,Object.defineProperty(b,"__esModule",{value:!0}),b}({})}],init(a,b,c,d){let{defaultFontURL:e}=a;return c(b,d(),{defaultFontURL:e})}}),ab=b({name:"Typesetter",dependencies:[o,i],init:(a,b)=>function(d){let c=new b;return a.typeset(d,c.resolve),c},getTransferables(a){let b=[a.glyphPositions.buffer,a.glyphIds.buffer];return a.caretPositions&&b.push(a.caretPositions.buffer),a.glyphColors&&b.push(a.glyphColors.buffer),b}}),ac=(()=>{let b={},c="aTroikaGlyphIndex";class a extends d.L5s{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new d.aLr,this.boundingBox=new d.ZzF}computeBoundingSphere(){}computeBoundingBox(){}setSide(b){let a=this.getIndex().count;this.setDrawRange(b===d._Li?a/2:0,b===d.ehD?a:a/2)}set detail(a){if(a!==this._detail){this._detail=a,("number"!=typeof a||a<1)&&(a=1);let c=function(a){let e=b[a];if(!e){let f=new d.BKK(1,1,a,a),h=f.clone(),j=f.attributes,i=h.attributes,g=new d.u9r,k=j.uv.count;for(let c=0;c<k;c++)i.position.array[3*c]*=-1,i.normal.array[3*c+2]*=-1;["position","normal","uv"].forEach(a=>{g.setAttribute(a,new d.a$l([...j[a].array,...i[a].array],j[a].itemSize))}),g.setIndex([...f.index.array,...h.index.array.map(a=>a+k)]),g.translate(.5,.5,0),e=b[a]=g}return e}(a);["position","normal","uv"].forEach(a=>{this.attributes[a]=c.attributes[a].clone()}),this.setIndex(c.getIndex().clone())}}get detail(){return this._detail}set curveRadius(a){a!==this._curveRadius&&(this._curveRadius=a,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(b,a,d,g,h){e(this,"aTroikaGlyphBounds",b,4),e(this,c,a,1),e(this,"aTroikaGlyphColor",h,3),this._blockBounds=d,this._chunkedBounds=g,f(this,a.length),this._updateBounds()}_updateBounds(){let b=this._blockBounds;if(b){let{curveRadius:h,boundingBox:g}=this;if(h){let{PI:i,floor:c,min:o,max:l,sin:j,cos:m}=Math,k=i/2,d=2*i,a=Math.abs(h),e=b[0]/a,f=b[2]/a,p=c((e+k)/d)!==c((f+k)/d)?-a:o(j(e)*a,j(f)*a),q=c((e-k)/d)!==c((f-k)/d)?a:l(j(e)*a,j(f)*a),n=c((e+i)/d)!==c((f+i)/d)?2*a:l(a-m(e)*a,a-m(f)*a);g.min.set(p,b[1],h<0?-n:0),g.max.set(q,b[3],h<0?0:n)}else g.min.set(b[0],b[1],0),g.max.set(b[2],b[3],0);g.getBoundingSphere(this.boundingSphere)}}applyClipRect(a){let g=this.getAttribute(c).count,b=this._chunkedBounds;if(b)for(let e=b.length;e--;){g=b[e].end;let d=b[e].rect;if(d[1]<a.w&&d[3]>a.y&&d[0]<a.z&&d[2]>a.x)break}f(this,g)}}function e(a,e,c,f){let b=a.getAttribute(e);c?b&&b.array.length===c.length?(b.array.set(c),b.needsUpdate=!0):(a.setAttribute(e,new d.lb7(c,f)),delete a._maxInstanceCount,a.dispose()):b&&a.deleteAttribute(e)}function f(a,b){a[a.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=b}return a.prototype.setAttribute||(a.prototype.setAttribute=function(a,b){return this.attributes[a]=b,this}),a})(),ad=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,ae=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,af=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,ag=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,ah=(()=>{let c=new d.vBJ({color:16777215,side:d.ehD,transparent:!0}),e=new d.yGw,f=new d.Pa4,g=new d.Pa4,i=[],j=new d.Pa4,k="+x+y";function m(a){return Array.isArray(a)?a[0]:a}let o=()=>{let a=new d.Kj0(new d.BKK(1,1),c);return o=()=>a,a},p=()=>{let a=new d.Kj0(new d.BKK(1,1,32,1),c);return p=()=>a,a},q={type:"syncstart"},r={type:"synccomplete"},a=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],s=a.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class b extends d.Kj0{constructor(){let a=new ac;super(a,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=k,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(a){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(a):(this._isSyncing=!0,this.dispatchEvent(q),function o(a,p){U=!0,a=Z({},a);let q=V();if(a.font=_(a.font||n.defaultFontURL),a.text=""+a.text,a.sdfGlyphSize=a.sdfGlyphSize||n.sdfGlyphSize,null!=a.colorRanges){let i={};for(let g in a.colorRanges)if(a.colorRanges.hasOwnProperty(g)){let e=a.colorRanges[g];"number"!=typeof e&&(e=T.set(e).getHex()),i[g]=e}a.colorRanges=i}Object.freeze(a);let{textureWidth:j,sdfExponent:r}=n,{sdfGlyphSize:c}=a,m=j/c*4,b=W[c];if(!b){let f=document.createElement("canvas");f.width=j,f.height=256*c/m,(b=W[c]={glyphCount:0,sdfGlyphSize:c,sdfCanvas:f,sdfTexture:new d.xEZ(f,void 0,void 0,void 0,d.wem,d.wem),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,Y(b)}let{sdfTexture:s,sdfCanvas:t}=b,k=b.glyphsByFont.get(a.font);k||b.glyphsByFont.set(a.font,k=new Map),ab(a).then(i=>{let{glyphIds:f,glyphPositions:x,fontSize:l,unitsPerEm:o,timings:d}=i,u=[],y=new Float32Array(4*f.length),z=l/o,A=0,B=0,v=V();f.forEach((h,m)=>{let d=k.get(h);if(!d){let{path:o,pathBounds:a}=i.glyphData[h],e=Math.max(a[2]-a[0],a[3]-a[1])/c*(n.sdfMargin*c+.5),p=b.glyphCount++,q=[a[0]-e,a[1]-e,a[2]+e,a[3]+e,];k.set(h,d={path:o,atlasIndex:p,sdfViewBox:q}),u.push(d)}let{sdfViewBox:g}=d,j=x[B++],l=x[B++];y[A++]=j+g[0]*z,y[A++]=l+g[1]*z,y[A++]=j+g[2]*z,y[A++]=l+g[3]*z,f[m]=d.atlasIndex}),d.quads=(d.quads||0)+(V()-v);let C=V();d.sdf={};let g=t.height,w=Math.ceil(b.glyphCount/m),e=Math.pow(2,Math.ceil(Math.log2(w*c)));e>g&&(console.info(`Increasing SDF texture size ${g}->${e}`),S(t,j,e),s.dispose()),h.all(u.map(c=>X(c,b,a.gpuAccelerateSDF).then(({timing:a})=>{d.sdf[c.atlasIndex]=a}))).then(()=>{u.length&&!b.contextLost&&(aa(b),s.needsUpdate=!0),d.sdfTotal=V()-C,d.total=V()-q,p(Object.freeze({parameters:a,sdfTexture:s,sdfGlyphSize:c,sdfExponent:r,glyphBounds:y,glyphAtlasIndices:f,glyphColors:i.glyphColors,caretPositions:i.caretPositions,caretHeight:i.caretHeight,chunkedBounds:i.chunkedBounds,ascender:i.ascender,descender:i.descender,lineHeight:i.lineHeight,topBaseline:i.topBaseline,blockBounds:i.blockBounds,visibleBounds:i.visibleBounds,timings:i.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),i.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");let[e,g,h,j]=i.blockBounds;return[h-e,j-g]}}))})}),h.all([]).then(()=>{if(!b.contextLost){var a;(a=t)._warm||(l.webgl.isSupported(a),a._warm=!0)}})}({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},b=>{this._isSyncing=!1,this._textRenderInfo=b,this.geometry.updateGlyphs(b.glyphBounds,b.glyphAtlasIndices,b.blockBounds,b.chunkedBounds,b.glyphColors);let c=this._queuedSyncs;c&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{c.forEach(a=>a&&a())})),this.dispatchEvent(r),a&&a()})))}onBeforeRender(b,c,e,f,a,g){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a),a._hadOwnSide=a.hasOwnProperty("side"),this.geometry.setSide(a._actualSide=a.side),a.side=d.Wl3}onAfterRender(b,c,d,e,a,f){a._hadOwnSide?a.side=a._actualSide:delete a.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let a=this._derivedMaterial,e=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=c.clone());if(a&&a.baseMaterial===e||(a=this._derivedMaterial=function(b){let a=H(b,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new d.FM8},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new d.Ltg(0,0,0,0)},uTroikaClipRect:{value:new d.Ltg(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new d.FM8},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new d.Ilk},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new d.Vkp},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:ad,vertexTransform:ae,fragmentDefs:af,fragmentColorTransform:ag,customRewriter({vertexShader:a,fragmentShader:b}){let c=/\buniform\s+vec3\s+diffuse\b/;return c.test(b)&&(b=b.replace(c,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),c.test(a)||(a=a.replace(A,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:a,fragmentShader:b}}});return a.transparent=!0,Object.defineProperties(a,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),a}(e),e.addEventListener("dispose",function b(){e.removeEventListener("dispose",b),a.dispose()})),!this.outlineWidth&&!this.outlineBlur&&!this.outlineOffsetX&&!this.outlineOffsetY)return a;{let b=a._outlineMtl;return b||((b=a._outlineMtl=Object.create(a,{id:{value:a.id+.1}})).isTextOutlineMaterial=!0,b.depthWrite=!1,b.map=null,a.addEventListener("dispose",function c(){a.removeEventListener("dispose",c),b.dispose()})),[b,a]}}set material(a){a&&a.isTroikaTextMaterial?(this._derivedMaterial=a,this._baseMaterial=a.baseMaterial):this._baseMaterial=a}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(a){this.geometry.detail=a}get curveRadius(){return this.geometry.curveRadius}set curveRadius(a){this.geometry.curveRadius=a}get customDepthMaterial(){return m(this.material).getDepthMaterial()}get customDistanceMaterial(){return m(this.material).getDistanceMaterial()}_prepareForRender(b){let p=b.isTextOutlineMaterial,a=b.uniforms,c=this.textRenderInfo;if(c){let{sdfTexture:q,blockBounds:h}=c;a.uTroikaSDFTexture.value=q,a.uTroikaSDFTextureSize.value.set(q.image.width,q.image.height),a.uTroikaSDFGlyphSize.value=c.sdfGlyphSize,a.uTroikaSDFExponent.value=c.sdfExponent,a.uTroikaTotalBounds.value.fromArray(h),a.uTroikaUseGlyphColors.value=!p&&!!c.glyphColors;let u=0,v=0,w=0,l,r,s,x=0,y=0;if(p){let{outlineWidth:B,outlineOffsetX:C,outlineOffsetY:D,outlineBlur:E,outlineOpacity:F}=this;u=this._parsePercent(B)||0,v=Math.max(0,this._parsePercent(E)||0),l=F,x=this._parsePercent(C)||0,y=this._parsePercent(D)||0}else(w=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(s=this.strokeColor,a.uTroikaStrokeColor.value.set(null==s?8421504:s),null==(r=this.strokeOpacity)&&(r=1)),l=this.fillOpacity;a.uTroikaDistanceOffset.value=u,a.uTroikaPositionOffset.value.set(x,y),a.uTroikaBlurRadius.value=v,a.uTroikaStrokeWidth.value=w,a.uTroikaStrokeOpacity.value=r,a.uTroikaFillOpacity.value=null==l?1:l,a.uTroikaCurveRadius.value=this.curveRadius||0;let m=this.clipRect;if(m&&Array.isArray(m)&&4===m.length)a.uTroikaClipRect.value.fromArray(m);else{let n=100*(this.fontSize||.1);a.uTroikaClipRect.value.set(h[0]-n,h[1]-n,h[2]+n,h[3]+n)}this.geometry.applyClipRect(a.uTroikaClipRect.value)}a.uTroikaSDFDebug.value=!!this.debugSDF,b.polygonOffset=!!this.depthOffset,b.polygonOffsetFactor=b.polygonOffsetUnits=this.depthOffset||0;let o=p?this.outlineColor||0:this.color;if(null==o)delete b.color;else{let t=b.hasOwnProperty("color")?b.color:b.color=new d.Ilk;(o!==t._input||"object"==typeof o)&&t.set(t._input=o)}let i=this.orientation||k;if(i!==b._orientation){let z=a.uTroikaOrient.value,A=(i=i.replace(/[^-+xyz]/g,""))!==k&&i.match(/^([-+])([xyz])([-+])([xyz])$/);if(A){let[,G,H,I,J]=A;f.set(0,0,0)[H]="-"===G?1:-1,g.set(0,0,0)[J]="-"===I?-1:1,e.lookAt(j,f.cross(g),g),z.setFromMatrix4(e)}else z.identity();b._orientation=i}}_parsePercent(a){if("string"==typeof a){let b=a.match(/^(-?[\d.]+)%$/),c=b?parseFloat(b[1]):NaN;a=(isNaN(c)?0:c/100)*this.fontSize}return a}localPositionToTextCoords(a,b=new d.FM8){b.copy(a);let c=this.curveRadius;return c&&(b.x=Math.atan2(a.x,Math.abs(c)-Math.abs(a.z))*Math.abs(c)),b}worldPositionToTextCoords(a,b=new d.FM8){return f.copy(a),this.localPositionToTextCoords(this.worldToLocal(f),b)}raycast(l,m){let{textRenderInfo:j,curveRadius:a}=this;if(j){let b=j.blockBounds,d=a?p():o(),g=d.geometry,{position:n,uv:h}=g.attributes;for(let c=0;c<h.count;c++){let e=b[0]+h.getX(c)*(b[2]-b[0]),q=b[1]+h.getY(c)*(b[3]-b[1]),k=0;a&&(k=a-Math.cos(e/a)*a,e=Math.sin(e/a)*a),n.setXYZ(c,e,q,k)}g.boundingSphere=this.geometry.boundingSphere,g.boundingBox=this.geometry.boundingBox,d.matrixWorld=this.matrixWorld,d.material.side=this.material.side,i.length=0,d.raycast(l,i);for(let f=0;f<i.length;f++)i[f].object=this,m.push(i[f])}}copy(a){let b=this.geometry;return super.copy(a),this.geometry=b,s.forEach(b=>{this[b]=a[b]}),this}clone(){return new this.constructor().copy(this)}}a.forEach(a=>{let c="_private_"+a;Object.defineProperty(b.prototype,a,{get(){return this[c]},set(a){a!==this[c]&&(this[c]=a,this._needsSync=!0)}})});let t=!1;return Object.defineProperty(b.prototype,"anchor",{get(){return this._deprecated_anchor},set(a){this._deprecated_anchor=a,t||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),t=!0),Array.isArray(a)?(this.anchorX=`${100*(+a[0]||0)}%`,this.anchorY=`${100*(+a[1]||0)}%`):this.anchorX=this.anchorY=0}}),b})(),ai=(new WeakMap,new WeakMap)},4111:function(c,a,b){"use strict";function d(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}b.d(a,{Z:function(){return d}})},460:function(c,b,a){"use strict";function d(a){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function e(a){return d(a)}a.d(b,{Z:function(){return g}});var f=a(4111);function g(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var h,c,d,g,i=e(a);if(b){var j=e(this).constructor;g=Reflect.construct(i,arguments,j)}else g=i.apply(this,arguments);return h=this,(c=g)&&("object"==((d=c)&&d.constructor===Symbol?"symbol":typeof d)||"function"==typeof c)?c:(0,f.Z)(h)}}},8029:function(c,a,b){"use strict";function d(a,b){return(d=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function e(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");if(b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a){var c,e;c=b,d(c,e=a)}}b.d(a,{Z:function(){return e}})},9396:function(c,a,b){"use strict";function d(b,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(a)):(function(b,d){var a=Object.keys(b);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(b);a.push.apply(a,c)}return a})(Object(a)).forEach(function(c){Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(a,c))}),b}b.d(a,{Z:function(){return d}})},9365:function(d,b,a){"use strict";a.d(b,{z:function(){return h}});var c=a(9477);let e={type:"change"},f={type:"start"},g={type:"end"};class h extends c.pBf{constructor(d,b){super(),void 0===b&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),b===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=d,this.domElement=b,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new c.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:c.RsA.ROTATE,MIDDLE:c.RsA.DOLLY,RIGHT:c.RsA.PAN},this.touches={ONE:c.QmN.ROTATE,TWO:c.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",Z),this._domElementKeyEvents=a},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(e),a.update(),m=h.NONE},this.update=function(){let f=new c.Pa4,b=new c._fP().setFromUnitVectors(d.up,new c.Pa4(0,1,0)),g=b.clone().invert(),i=new c.Pa4,j=new c._fP,k=2*Math.PI;return function(){let l=a.object.position;f.copy(l).sub(a.target),f.applyQuaternion(b),o.setFromVector3(f),a.autoRotate&&m===h.NONE&&G(E()),a.enableDamping?(o.theta+=p.theta*a.dampingFactor,o.phi+=p.phi*a.dampingFactor):(o.theta+=p.theta,o.phi+=p.phi);let c=a.minAzimuthAngle,d=a.maxAzimuthAngle;return isFinite(c)&&isFinite(d)&&(c< -Math.PI?c+=k:c>Math.PI&&(c-=k),d< -Math.PI?d+=k:d>Math.PI&&(d-=k),c<=d?o.theta=Math.max(c,Math.min(d,o.theta)):o.theta=o.theta>(c+d)/2?Math.max(c,o.theta):Math.min(d,o.theta)),o.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=q,o.radius=Math.max(a.minDistance,Math.min(a.maxDistance,o.radius)),!0===a.enableDamping?a.target.addScaledVector(r,a.dampingFactor):a.target.add(r),f.setFromSpherical(o),f.applyQuaternion(g),l.copy(a.target).add(f),a.object.lookAt(a.target),!0===a.enableDamping?(p.theta*=1-a.dampingFactor,p.phi*=1-a.dampingFactor,r.multiplyScalar(1-a.dampingFactor)):(p.set(0,0,0),r.set(0,0,0)),q=1,!!(s||i.distanceToSquared(a.object.position)>n||8*(1-j.dot(a.object.quaternion))>n)&&(a.dispatchEvent(e),i.copy(a.object.position),j.copy(a.object.quaternion),s=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",l),a.domElement.removeEventListener("pointerdown",i),a.domElement.removeEventListener("pointercancel",j),a.domElement.removeEventListener("wheel",k),a.domElement.removeEventListener("pointermove",V),a.domElement.removeEventListener("pointerup",W),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",Z)};let a=this,h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},m=h.NONE,n=1e-6,o=new c.$V,p=new c.$V,q=1,r=new c.Pa4,s=!1,t=new c.FM8,u=new c.FM8,v=new c.FM8,w=new c.FM8,x=new c.FM8,y=new c.FM8,z=new c.FM8,A=new c.FM8,B=new c.FM8,C=[],D={};function E(){return 2*Math.PI/60/60*a.autoRotateSpeed}function F(){return Math.pow(.95,a.zoomSpeed)}function G(a){p.theta-=a}function H(a){p.phi-=a}let I=function(){let a=new c.Pa4;return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),r.add(a)}}(),J=function(){let b=new c.Pa4;return function(d,c){!0===a.screenSpacePanning?b.setFromMatrixColumn(c,1):(b.setFromMatrixColumn(c,0),b.crossVectors(a.object.up,b)),b.multiplyScalar(d),r.add(b)}}(),K=function(){let b=new c.Pa4;return function(d,e){let c=a.domElement;if(a.object.isPerspectiveCamera){let g=a.object.position;b.copy(g).sub(a.target);let f=b.length();I(2*d*(f*=Math.tan(a.object.fov/2*Math.PI/180))/c.clientHeight,a.object.matrix),J(2*e*f/c.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(I(d*(a.object.right-a.object.left)/a.object.zoom/c.clientWidth,a.object.matrix),J(e*(a.object.top-a.object.bottom)/a.object.zoom/c.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function L(b){a.object.isPerspectiveCamera?q/=b:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*b)),a.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function M(b){a.object.isPerspectiveCamera?q*=b:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/b)),a.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function N(a){t.set(a.clientX,a.clientY)}function O(a){w.set(a.clientX,a.clientY)}function P(){if(1===C.length)t.set(C[0].pageX,C[0].pageY);else{let a=.5*(C[0].pageX+C[1].pageX),b=.5*(C[0].pageY+C[1].pageY);t.set(a,b)}}function Q(){if(1===C.length)w.set(C[0].pageX,C[0].pageY);else{let a=.5*(C[0].pageX+C[1].pageX),b=.5*(C[0].pageY+C[1].pageY);w.set(a,b)}}function R(){let a=C[0].pageX-C[1].pageX,b=C[0].pageY-C[1].pageY;z.set(0,Math.sqrt(a*a+b*b))}function S(b){if(1==C.length)u.set(b.pageX,b.pageY);else{let c=ad(b),e=.5*(b.pageX+c.x),f=.5*(b.pageY+c.y);u.set(e,f)}v.subVectors(u,t).multiplyScalar(a.rotateSpeed);let d=a.domElement;G(2*Math.PI*v.x/d.clientHeight),H(2*Math.PI*v.y/d.clientHeight),t.copy(u)}function T(b){if(1===C.length)x.set(b.pageX,b.pageY);else{let c=ad(b),d=.5*(b.pageX+c.x),e=.5*(b.pageY+c.y);x.set(d,e)}y.subVectors(x,w).multiplyScalar(a.panSpeed),K(y.x,y.y),w.copy(x)}function U(b){let c=ad(b),d=b.pageX-c.x,e=b.pageY-c.y;A.set(0,Math.sqrt(d*d+e*e)),B.set(0,Math.pow(A.y/z.y,a.zoomSpeed)),L(B.y),z.copy(A)}function i(b){!1!==a.enabled&&(0===C.length&&(a.domElement.setPointerCapture(b.pointerId),a.domElement.addEventListener("pointermove",V),a.domElement.addEventListener("pointerup",W)),aa(b),"touch"===b.pointerType?$(b):X(b))}function V(b){!1!==a.enabled&&("touch"===b.pointerType?_(b):Y(b))}function W(b){ab(b),0===C.length&&(a.domElement.releasePointerCapture(b.pointerId),a.domElement.removeEventListener("pointermove",V),a.domElement.removeEventListener("pointerup",W)),a.dispatchEvent(g),m=h.NONE}function j(a){ab(a)}function X(b){let d;switch(b.button){case 0:d=a.mouseButtons.LEFT;break;case 1:d=a.mouseButtons.MIDDLE;break;case 2:d=a.mouseButtons.RIGHT;break;default:d=-1}switch(d){case c.RsA.DOLLY:var e;if(!1===a.enableZoom)return;e=b,z.set(e.clientX,e.clientY),m=h.DOLLY;break;case c.RsA.ROTATE:if(b.ctrlKey||b.metaKey||b.shiftKey){if(!1===a.enablePan)return;O(b),m=h.PAN}else{if(!1===a.enableRotate)return;N(b),m=h.ROTATE}break;case c.RsA.PAN:if(b.ctrlKey||b.metaKey||b.shiftKey){if(!1===a.enableRotate)return;N(b),m=h.ROTATE}else{if(!1===a.enablePan)return;O(b),m=h.PAN}break;default:m=h.NONE}m!==h.NONE&&a.dispatchEvent(f)}function Y(b){var c,d;if(!1!==a.enabled)switch(m){case h.ROTATE:if(!1===a.enableRotate)return;!function(b){u.set(b.clientX,b.clientY),v.subVectors(u,t).multiplyScalar(a.rotateSpeed);let c=a.domElement;G(2*Math.PI*v.x/c.clientHeight),H(2*Math.PI*v.y/c.clientHeight),t.copy(u),a.update()}(b);break;case h.DOLLY:if(!1===a.enableZoom)return;c=b,A.set(c.clientX,c.clientY),B.subVectors(A,z),B.y>0?L(F()):B.y<0&&M(F()),z.copy(A),a.update();break;case h.PAN:if(!1===a.enablePan)return;d=b,x.set(d.clientX,d.clientY),y.subVectors(x,w).multiplyScalar(a.panSpeed),K(y.x,y.y),w.copy(x),a.update()}}function k(b){if(!1!==a.enabled&& !1!==a.enableZoom&&m===h.NONE){var c;b.preventDefault(),a.dispatchEvent(f),(c=b).deltaY<0?M(F()):c.deltaY>0&&L(F()),a.update(),a.dispatchEvent(g)}}function Z(b){!1!==a.enabled&& !1!==a.enablePan&&function(c){let b=!1;switch(c.code){case a.keys.UP:K(0,a.keyPanSpeed),b=!0;break;case a.keys.BOTTOM:K(0,-a.keyPanSpeed),b=!0;break;case a.keys.LEFT:K(a.keyPanSpeed,0),b=!0;break;case a.keys.RIGHT:K(-a.keyPanSpeed,0),b=!0}b&&(c.preventDefault(),a.update())}(b)}function $(b){switch(ac(b),C.length){case 1:switch(a.touches.ONE){case c.QmN.ROTATE:if(!1===a.enableRotate)return;P(),m=h.TOUCH_ROTATE;break;case c.QmN.PAN:if(!1===a.enablePan)return;Q(),m=h.TOUCH_PAN;break;default:m=h.NONE}break;case 2:switch(a.touches.TWO){case c.QmN.DOLLY_PAN:if(!1===a.enableZoom&& !1===a.enablePan)return;a.enableZoom&&R(),a.enablePan&&Q(),m=h.TOUCH_DOLLY_PAN;break;case c.QmN.DOLLY_ROTATE:if(!1===a.enableZoom&& !1===a.enableRotate)return;a.enableZoom&&R(),a.enableRotate&&P(),m=h.TOUCH_DOLLY_ROTATE;break;default:m=h.NONE}break;default:m=h.NONE}m!==h.NONE&&a.dispatchEvent(f)}function _(b){var c,d;switch(ac(b),m){case h.TOUCH_ROTATE:if(!1===a.enableRotate)return;S(b),a.update();break;case h.TOUCH_PAN:if(!1===a.enablePan)return;T(b),a.update();break;case h.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&& !1===a.enablePan)return;c=b,a.enableZoom&&U(c),a.enablePan&&T(c),a.update();break;case h.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&& !1===a.enableRotate)return;d=b,a.enableZoom&&U(d),a.enableRotate&&S(d),a.update();break;default:m=h.NONE}}function l(b){!1!==a.enabled&&b.preventDefault()}function aa(a){C.push(a)}function ab(b){delete D[b.pointerId];for(let a=0;a<C.length;a++)if(C[a].pointerId==b.pointerId){C.splice(a,1);return}}function ac(a){let b=D[a.pointerId];void 0===b&&(b=new c.FM8,D[a.pointerId]=b),b.set(a.pageX,a.pageY)}function ad(a){let b=a.pointerId===C[0].pointerId?C[1]:C[0];return D[b.pointerId]}a.domElement.addEventListener("contextmenu",l),a.domElement.addEventListener("pointerdown",i),a.domElement.addEventListener("pointercancel",j),a.domElement.addEventListener("wheel",k,{passive:!1}),this.update()}}}}])